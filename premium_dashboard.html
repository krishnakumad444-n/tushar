<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SECURE | PREMIUM DASHBOARD</title>
    
    <link rel="icon" href="assets/icon.png" type="image/png">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;700&family=Rajdhani:wght@500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vanilla-tilt/1.7.0/vanilla-tilt.min.js"></script>

    <style>
        /* ========== RED/BLACK GLASS EDITION - PREMIUM DASHBOARD ========== */
        :root {
            --bg-deep: #000000;
            --glass-bg: rgba(8, 0, 0, 0.75);
            --glass-card: rgba(12, 0, 0, 0.7);
            --glass-header: rgba(5, 0, 0, 0.85);
            --glass-input: rgba(15, 0, 0, 0.6);
            --glass-button: rgba(180, 0, 0, 0.25);
            --glass-button-hover: rgba(200, 0, 0, 0.4);
            --border-glass: rgba(180, 0, 0, 0.25);
            --border-glass-hover: rgba(220, 0, 0, 0.5);
            --primary: #b30000;
            --primary-dark: #800000;
            --primary-glow: rgba(180, 0, 0, 0.4);
            --accent: #b30000;
            --accent-glow: rgba(180, 0, 0, 0.3);
            --success: #00cc88;
            --success-glow: rgba(0, 204, 136, 0.3);
            --danger: #b30000;
            --danger-glow: rgba(180, 0, 0, 0.4);
            --warning: #ff8800;
            --warning-glow: rgba(255, 136, 0, 0.3);
            --text-primary: #ffffff;
            --text-secondary: #f0f0f0;
            --text-muted: #cc9999;
            --text-accent: #ffaaaa;
            --font-main: 'Inter', sans-serif;
            --font-display: 'Rajdhani', sans-serif;
            --font-code: 'JetBrains Mono', monospace;
        }

        *, *::before, *::after {
            margin: 0; padding: 0; box-sizing: border-box;
            -webkit-font-smoothing: antialiased;
        }

        body {
            background: #000000;
            color: var(--text-primary);
            font-family: var(--font-main);
            height: 100vh; overflow: hidden;
            display: flex; flex-direction: column;
            position: relative;
        }

        /* Subtle Grid Overlay */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(150, 0, 0, 0.02) 1px, transparent 1px),
                linear-gradient(90deg, rgba(150, 0, 0, 0.02) 1px, transparent 1px);
            background-size: 60px 60px;
            pointer-events: none;
            z-index: 0;
        }

        /* Subtle Red Glow */
        body::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 20% 30%, rgba(150,0,0,0.03) 0%, transparent 60%),
                        radial-gradient(circle at 80% 70%, rgba(100,0,0,0.02) 0%, transparent 60%);
            pointer-events: none;
            z-index: 0;
        }

        /* ===== GLASS BUTTON STYLES ===== */
        .btn {
            position: relative; overflow: hidden;
            display: inline-flex; align-items: center; justify-content: center; gap: 8px;
            padding: 12px 24px; border-radius: 30px; border: none;
            font-family: var(--font-display); font-weight: 700; text-transform: uppercase; letter-spacing: 2px;
            cursor: pointer; transition: all 0.3s ease; z-index: 1;
            background: rgba(180, 0, 0, 0.25);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            border-right: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            color: white;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.6s ease;
            z-index: -1;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:active { 
            transform: scale(0.96); 
        }
        
        .btn-primary {
            background: rgba(180, 0, 0, 0.35);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 4px 20px rgba(180, 0, 0, 0.25);
        }
        
        .btn-primary:hover { 
            background: rgba(200, 0, 0, 0.5);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 30px rgba(180, 0, 0, 0.35);
            transform: translateY(-2px);
        }

        .btn-danger {
            background: rgba(180, 0, 0, 0.25);
            color: #ffaaaa;
            border: 1px solid rgba(180, 0, 0, 0.4);
        }
        
        .btn-danger:hover {
            background: rgba(200, 0, 0, 0.5);
            color: white;
            border-color: white;
            box-shadow: 0 8px 30px rgba(180, 0, 0, 0.4);
        }
        
        .btn-ghost { 
            background: rgba(30, 0, 0, 0.3);
            border: 1px solid rgba(180, 0, 0, 0.25); 
            color: #cc9999; 
            box-shadow: none;
        }
        
        .btn-ghost:hover { 
            background: rgba(180, 0, 0, 0.3);
            backdrop-filter: blur(15px);
            border-color: rgba(255, 255, 255, 0.3); 
            color: white; 
            box-shadow: 0 8px 25px rgba(180, 0, 0, 0.25);
            transform: translateY(-2px);
        }

        /* ===== GLASS INPUT STYLES ===== */
        .input-group { 
            position: relative; 
            margin-bottom: 20px; 
            width: 100%; 
        }
        
        .input-field {
            width: 100%; 
            padding: 16px 20px;
            background: rgba(15, 0, 0, 0.5);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(180, 0, 0, 0.25);
            border-radius: 30px; 
            color: white; 
            font-size: 15px;
            transition: all 0.3s;
        }
        
        .input-field:focus { 
            outline: none; 
            border-color: #b30000; 
            background: rgba(20, 0, 0, 0.7);
            box-shadow: 0 0 30px rgba(180, 0, 0, 0.2); 
        }
        
        .input-label {
            position: absolute; 
            left: 20px; 
            top: 50%; 
            transform: translateY(-50%);
            color: #cc9999; 
            pointer-events: none; 
            transition: 0.2s;
            background: transparent; 
            padding: 0 6px; 
            font-size: 14px;
        }
        
        .input-field:focus + .input-label, 
        .input-field:not(:placeholder-shown) + .input-label {
            top: 0; 
            font-size: 11px; 
            color: #ffaaaa; 
            background: rgba(8, 0, 0, 0.9);
            backdrop-filter: blur(5px);
            padding: 2px 12px;
            border-radius: 20px;
            letter-spacing: 1px;
        }

        /* ===== GLASS PANEL ===== */
        .glass-panel {
            background: rgba(8, 0, 0, 0.7);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(180, 0, 0, 0.25);
            border-radius: 24px;
            box-shadow: 0 20px 40px -10px rgba(0,0,0,0.7);
            position: relative;
            overflow: hidden;
        }

        .glass-panel::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(180, 0, 0, 0.1), transparent);
            transition: left 0.8s ease;
            pointer-events: none;
        }

        .glass-panel:hover::before {
            left: 100%;
        }

        /* Cyber Modal - Red/Black */
        .cyber-modal {
            background: rgba(8, 0, 0, 0.95);
            backdrop-filter: blur(30px);
            border: 1px solid rgba(180, 0, 0, 0.4);
            box-shadow: 0 0 50px rgba(180, 0, 0, 0.2);
            position: relative; overflow: hidden;
            border-radius: 24px;
        }
        .cyber-modal::before {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 2px;
            background: linear-gradient(90deg, transparent, #b30000, transparent);
            animation: scanLine 2s linear infinite;
        }
        @keyframes scanLine { 0% { transform: translateY(-10px); } 100% { transform: translateY(500px); } }
        
        .cyber-corner {
            position: absolute; width: 20px; height: 20px;
            border: 2px solid #b30000; 
            opacity: 0.5;
        }
        .cc-tl { top: 0; left: 0; border-right: none; border-bottom: none; }
        .cc-tr { top: 0; right: 0; border-left: none; border-bottom: none; }
        .cc-bl { bottom: 0; left: 0; border-right: none; border-top: none; }
        .cc-br { bottom: 0; right: 0; border-left: none; border-top: none; }

        /* SCROLLBAR */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: #0a0000; }
        ::-webkit-scrollbar-thumb { background: #660000; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #b30000; }

        /* UTILITY CLASSES */
        .hidden { display: none !important; }
        .flex { display: flex; }
        .flex-col { flex-direction: column; }
        .items-center { align-items: center; }
        .justify-between { justify-content: space-between; }
        .gap-10 { gap: 10px; } .gap-20 { gap: 20px; }
        .w-full { width: 100%; }
        .h-full { height: 100%; }
        .text-accent { color: #ffaaaa; }
        .text-primary { color: #ffaaaa; }
        .text-danger { color: #ff8888; }
        .font-code { font-family: var(--font-code); }
        .selectable { user-select: text !important; cursor: text; }
        
        /* BLURRED SECRET */
        .blur-secret { 
            filter: blur(5px); 
            transition: 0.3s; 
            cursor: pointer; 
            user-select: none; 
            opacity: 0.7;
            background: rgba(180,0,0,0.15);
            padding: 2px 8px;
            border-radius: 20px;
            display: inline-block;
        }
        .blur-secret:hover { 
            filter: blur(0); 
            user-select: all; 
            opacity: 1;
            background: rgba(180,0,0,0.3);
            color: white;
        }

        /* Premium User Card - NEW */
        .premium-card {
            background: linear-gradient(135deg, rgba(20, 0, 0, 0.95), rgba(8, 0, 0, 0.98));
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 255, 136, 0.3);
            border-radius: 16px;
            padding: 25px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 30px rgba(0, 255, 136, 0.2);
        }
        
        .premium-card::before {
            content: '✔';
            position: absolute;
            top: -20px;
            right: -20px;
            font-size: 120px;
            opacity: 0.05;
            color: #00ff88;
            transform: rotate(15deg);
        }
        
        .premium-badge {
            display: inline-block;
            background: rgba(0, 255, 136, 0.2);
            border: 1px solid #00ff88;
            color: #00ff88;
            padding: 4px 15px;
            border-radius: 30px;
            font-size: 12px;
            font-weight: 700;
            letter-spacing: 1px;
        }

        /* ANIMATIONS */
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slideInRight { from { opacity: 0; transform: translateX(30px); } to { opacity: 1; transform: translateX(0); } }
        @keyframes slideInLeft { from { opacity: 0; transform: translateX(-30px); } to { opacity: 1; transform: translateX(0); } }
        
        .slide-in-right { animation: slideInRight 0.5s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; }
        .slide-in-left { animation: slideInLeft 0.5s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; }

        /* LAYOUT STRUCTURE */
        #loader {
            position: fixed; inset: 0; background: black; z-index: 10000;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
        }
        .loader-bar { width: 200px; height: 2px; background: #330000; margin-top: 20px; position: relative; overflow: hidden; }
        .loader-prog { position: absolute; top: 0; left: 0; height: 100%; width: 0%; background: #b30000; animation: loadBar 2s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; }
        @keyframes loadBar { 0% { width: 0%; } 100% { width: 100%; } }

        /* CANVAS BG */
        #bg-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; }

        /* AUTH CONTAINER */
        #auth-view {
            position: absolute; inset: 0; z-index: 500;
            display: flex; align-items: center; justify-content: center;
            background: rgba(0,0,0,0.9); backdrop-filter: blur(20px);
        }
        .auth-split {
            display: grid; grid-template-columns: 1fr 1fr;
            width: 900px; height: 550px;
            background: rgba(8, 0, 0, 0.8);
            backdrop-filter: blur(30px);
            border: 1px solid rgba(180,0,0,0.3);
            border-radius: 24px;
            overflow: hidden; 
            box-shadow: 0 0 100px rgba(0,0,0,0.8);
        }
        .auth-art {
            background: linear-gradient(135deg, #330000, #000000);
            position: relative;
            display: flex;
            align-items: flex-end;
            padding: 40px;
        }
        .auth-art::after {
            content: ''; position: absolute; inset: 0;
            background: linear-gradient(to top, #000 0%, rgba(180, 0, 0, 0.2) 100%);
        }
        .auth-form { 
            padding: 50px; 
            display: flex; 
            flex-direction: column; 
            justify-content: center; 
            position: relative;
            background: rgba(5,0,0,0.4);
            backdrop-filter: blur(20px);
        }

        /* DASHBOARD GRID */
        #app-view { display: flex; width: 100%; height: 100%; position: relative; z-index: 2; }

        .sidebar {
            width: 280px; height: 100%; 
            background: rgba(5, 0, 0, 0.85);
            backdrop-filter: blur(30px);
            border-right: 1px solid rgba(180, 0, 0, 0.25);
            display: flex; flex-direction: column; 
            padding: 25px; 
            z-index: 100;
            position: relative;
        }

        .sidebar::after {
            content: '';
            position: absolute;
            right: -1px;
            top: 10%;
            height: 80%;
            width: 1px;
            background: linear-gradient(to bottom, transparent, #b30000, transparent);
            opacity: 0.5;
        }

        .brand-box { 
            margin-bottom: 40px; 
            display: flex; 
            align-items: center; 
            gap: 12px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(180,0,0,0.2);
        }
        .brand-logo { 
            width: 45px; height: 45px; 
            background: rgba(180, 0, 0, 0.25);
            backdrop-filter: blur(15px);
            border-radius: 14px; 
            display: flex; align-items: center; justify-content: center;
            border: 1px solid rgba(255,255,255,0.2);
            box-shadow: 0 0 25px rgba(180,0,0,0.25);
            color: #ffaaaa;
        }
        .nav-menu { flex: 1; display: flex; flex-direction: column; gap: 8px; overflow-y: auto; }
        .nav-item {
            padding: 14px 18px; border-radius: 40px; 
            color: #cc9999;
            font-weight: 500; font-size: 14px; cursor: pointer; transition: 0.3s;
            display: flex; align-items: center; gap: 14px;
            border: 1px solid transparent;
            background: rgba(20,0,0,0.2);
            backdrop-filter: blur(10px);
        }
        .nav-item:hover { 
            color: white; 
            background: rgba(180,0,0,0.2);
            border-color: rgba(180,0,0,0.3);
        }
        .nav-item.active {
            background: rgba(180,0,0,0.3);
            backdrop-filter: blur(15px);
            color: white;
            border-left: 3px solid #b30000;
            border-color: rgba(255,255,255,0.2);
        }
        .nav-item.locked { 
            opacity: 0.5; 
            pointer-events: none; 
            filter: grayscale(1);
            background: rgba(30,0,0,0.1);
        }

        .main-content {
            flex: 1; height: 100%; overflow-y: auto; overflow-x: hidden;
            padding: 40px; position: relative;
        }

        /* HEADER & STATS */
        .top-bar {
            display: flex; justify-content: space-between; align-items: flex-start;
            margin-bottom: 40px; animation: fadeIn 0.5s ease;
        }
        .discord-pill {
            background: rgba(88, 101, 242, 0.25);
            backdrop-filter: blur(15px);
            color: white; 
            padding: 12px 24px;
            border-radius: 50px; 
            font-weight: 700; font-size: 13px;
            display: flex; align-items: center; gap: 10px; text-decoration: none;
            border: 1px solid rgba(255,255,255,0.2);
            transition: 0.3s;
        }
        .discord-pill:hover { 
            background: rgba(88, 101, 242, 0.4);
            border-color: white;
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(88, 101, 242, 0.3);
        }

        .stat-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 25px; margin-bottom: 30px; }
        .stat-card {
            background: rgba(12, 0, 0, 0.6);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(180, 0, 0, 0.25);
            border-radius: 20px; 
            padding: 28px;
            position: relative; 
            overflow: hidden; 
            transform-style: preserve-3d;
            transition: all 0.3s;
        }
        .stat-card:hover {
            border-color: rgba(180, 0, 0, 0.5);
            background: rgba(16, 0, 0, 0.7);
            transform: translateY(-4px);
            box-shadow: 0 15px 35px -10px rgba(0,0,0,0.8);
        }
        .stat-card::before {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 3px;
            background: linear-gradient(90deg, transparent, var(--color, #b30000), transparent);
            opacity: 0.5;
        }
        .stat-num { font-size: 42px; font-weight: 700; color: white; font-family: var(--font-display); margin-bottom: 5px; }
        .stat-label { font-size: 11px; color: #cc9999; text-transform: uppercase; letter-spacing: 2px; }

        /* TABLE */
        .table-wrapper { width: 100%; overflow-x: auto; border-radius: 16px; -webkit-overflow-scrolling: touch; }
        .table-wrapper { max-height: 600px; overflow-y: auto; }
        table { width: 100%; border-collapse: separate; border-spacing: 0; min-width: 700px; }
        th {
            text-align: left; padding: 18px 24px;
            background: rgba(100, 0, 0, 0.15);
            backdrop-filter: blur(10px);
            color: #ffaaaa; 
            font-size: 11px; text-transform: uppercase; letter-spacing: 2px;
            border-bottom: 1px solid rgba(180, 0, 0, 0.2); 
            font-weight: 600;
        }
        td {
            padding: 16px 24px; border-bottom: 1px solid rgba(180,0,0,0.05);
            font-size: 14px; transition: 0.2s;
            color: #f0f0f0;
        }
        tr:last-child td { border-bottom: none; }
        tr:hover td { background: rgba(150,0,0,0.1); }

        /* BADGES */
        .badge {
            display: inline-flex; align-items: center; gap: 6px;
            padding: 5px 14px; border-radius: 30px;
            font-size: 10px; font-weight: 700; letter-spacing: 1px;
            text-transform: uppercase;
            backdrop-filter: blur(5px);
        }
        .badge-dot { width: 6px; height: 6px; border-radius: 50%; }
        .bg-green { background: rgba(0, 200, 100, 0.15); color: #88ff88; border: 1px solid rgba(0, 255, 100, 0.2); }
        .bg-green .badge-dot { background: #00cc88; box-shadow: 0 0 10px #00cc88; }
        .bg-red { background: rgba(180, 0, 0, 0.15); color: #ffaaaa; border: 1px solid rgba(180, 0, 0, 0.3); }
        .bg-red .badge-dot { background: #b30000; box-shadow: 0 0 10px #b30000; }
        
        /* CODE WINDOW */
        .code-window {
            background: rgba(5, 0, 0, 0.7);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(180,0,0,0.25);
            border-radius: 20px; 
            overflow: hidden; 
            margin-top: 15px;
        }
        .window-header {
            background: rgba(180,0,0,0.1);
            backdrop-filter: blur(15px);
            padding: 12px 20px;
            display: flex; gap: 8px; 
            border-bottom: 1px solid rgba(180,0,0,0.2);
            align-items: center;
            flex-wrap: wrap;
        }
        .lang-tab {
            padding: 6px 18px; 
            font-size: 11px; 
            color: #cc9999; 
            cursor: pointer; 
            border-radius: 30px; 
            transition: 0.3s; 
            font-weight: 700;
            border: 1px solid transparent;
        }
        .lang-tab:hover, .lang-tab.active {
            background: rgba(180,0,0,0.25);
            backdrop-filter: blur(10px);
            color: white;
            border-color: rgba(255,255,255,0.2);
        }
        .win-dot { width: 10px; height: 10px; border-radius: 50%; }
        .code-content {
            padding: 25px; 
            color: #ffddaa; 
            font-family: var(--font-code);
            font-size: 13px; 
            line-height: 1.6; 
            white-space: pre; 
            overflow-x: auto;
            background: rgba(0,0,0,0.3);
        }
        .syntax-kw { color: #ff8888; font-weight: bold; }
        .syntax-str { color: #88ff88; }
        .syntax-num { color: #88aaff; }
        .syntax-cls { color: #ffaa88; }

        /* TOAST */
        .toast-container { 
            position: fixed; 
            bottom: 30px; 
            left: 50%; 
            transform: translateX(-50%); 
            z-index: 9999; 
            display: flex; 
            flex-direction: column; 
            gap: 10px; 
            width: 90%; 
            max-width: 400px; 
        }
        .toast {
            background: rgba(10, 0, 0, 0.9);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(180, 0, 0, 0.3);
            border-left: 6px solid #b30000;
            padding: 16px 24px; 
            border-radius: 50px; 
            color: white; 
            box-shadow: 0 15px 40px rgba(0,0,0,0.6);
            display: flex; 
            align-items: center; 
            gap: 15px;
            animation: slideUp 0.4s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
        }
        .toast.error { border-left-color: #ff0000; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* MODAL */
        .modal-overlay {
            position: fixed; inset: 0; z-index: 1000;
            display: none; align-items: center; justify-content: center;
            background: rgba(0,0,0,0.95); backdrop-filter: blur(20px);
        }
        .modal-overlay.active { display: flex; animation: fadeIn 0.3s ease; }
        .modal-content {
            background: rgba(8, 0, 0, 0.95);
            backdrop-filter: blur(30px);
            border: 1px solid rgba(180,0,0,0.4);
            border-radius: 24px;
            padding: 40px;
            width: 100%;
            max-width: 500px;
            position: relative;
        }
        .modal-close {
            position: absolute; top: 15px; right: 15px; 
            width: 36px; height: 36px;
            background: rgba(180,0,0,0.2);
            backdrop-filter: blur(10px);
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            cursor: pointer; transition: 0.3s;
            color: white;
            border: 1px solid rgba(255,255,255,0.2);
        }
        .modal-close:hover { 
            background: #b30000; 
            transform: rotate(90deg);
            border-color: white;
        }

        /* DATA MODAL */
        .data-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 20px; }
        .data-box { 
            background: rgba(180,0,0,0.1); 
            backdrop-filter: blur(10px);
            padding: 15px; 
            border-radius: 16px; 
            border: 1px solid rgba(180,0,0,0.2); 
        }
        .data-label { color: #cc9999; font-size: 10px; text-transform: uppercase; letter-spacing: 2px; margin-bottom: 8px; }
        .data-val { color: white; font-family: var(--font-code); font-size: 12px; word-break: break-all; }
        .section-title { 
            font-family: var(--font-display); 
            font-size: 18px; 
            color: #ffaaaa; 
            margin-bottom: 20px; 
            border-bottom: 1px solid rgba(180,0,0,0.3); 
            padding-bottom: 10px; 
            letter-spacing: 2px;
        }

        /* TOGGLE SWITCH */
        .switch { display: inline-block; position: relative; width: 50px; height: 28px; }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider.round { 
            position: absolute; cursor: pointer; inset: 0; 
            background-color: #330000; 
            border-radius: 34px; 
            transition: .4s;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .slider.round:before {
            position: absolute;
            content: "";
            height: 20px;
            width: 20px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            border-radius: 50%;
            transition: .4s;
        }
        input:checked + .slider { background-color: #b30000; }
        input:checked + .slider:before { transform: translateX(22px); }

        /* APP STATUS BAR */
        .app-status-bar { 
            transition: 0.3s; 
            opacity: 0; 
            pointer-events: none;
            background: rgba(20,0,0,0.5) !important;
            border: 1px solid rgba(180,0,0,0.3) !important;
            border-radius: 20px !important;
        }
        .app-status-bar.active { 
            opacity: 1; 
            pointer-events: all; 
        }

        /* RESPONSIVE */
        @media (max-width: 1200px) { .stat-grid { grid-template-columns: repeat(2, 1fr); } }
        @media (max-width: 992px) { 
            #app-view { flex-direction: column; } 
            .sidebar { width: 100%; height: auto; flex-direction: row; align-items: center; padding: 15px; overflow-x: auto; } 
            .brand-box { margin-bottom: 0; } 
            .nav-menu { flex-direction: row; gap: 0; } 
            .nav-item { white-space: nowrap; } 
            .sidebar > div:last-child { display: none; } 
            .main-content { padding: 20px; } 
            .top-bar { flex-direction: column; gap: 20px; align-items: flex-start; } 
        }
        @media (max-width: 768px) { 
            .stat-grid { grid-template-columns: 1fr; } 
            .auth-split { grid-template-columns: 1fr; width: 95%; max-width: 450px; } 
            .auth-art { display: none; } 
            .flex { flex-wrap: wrap; } 
        }
    </style>
</head>
<body>

    <!-- LOADER -->
    <div id="loader">
        <div style="position: relative;">
            <h1 style="font-size: 24px; font-family: var(--font-display); letter-spacing: 6px; color: white; text-shadow: 0 0 20px #b30000;">SECURE</h1>
        </div>
        <div class="loader-bar"><div class="loader-prog"></div></div>
        <p style="color: #cc9999; font-size: 10px; margin-top: 10px; font-family: var(--font-code); letter-spacing: 2px;">INITIALIZING SECURE CONNECTION</p>
    </div>

    <!-- CANVAS BG -->
    <canvas id="bg-canvas"></canvas>

    <!-- TOAST CONTAINER -->
    <div class="toast-container" id="toast-area"></div>

    <!-- USER DATA MODAL -->
    <div id="user-data-modal" class="modal-overlay">
        <div class="cyber-modal" style="width: 100%; max-width: 900px; padding: 0; max-height: 90vh; display: flex; flex-direction: column;">
            <div style="padding: 20px 30px; border-bottom: 1px solid rgba(180,0,0,0.3); display: flex; justify-content: space-between; align-items: center; background: rgba(0,0,0,0.5);">
                <h3 style="font-family: var(--font-display); font-size: 24px; color: white; letter-spacing: 3px;">USER <span style="color: #ffaaaa;">DATA</span></h3>
                <div class="modal-close" onclick="UI.closeModal('user-data-modal')" style="position: static;">×</div>
            </div>
            <div style="padding: 30px; overflow-y: auto; flex: 1;">
                <div class="section-title"><i class="fas fa-key"></i> 1. BASIC AUTH / ACCOUNT DATA</div>
                <div class="data-grid">
                    <div class="data-box"><div class="data-label">Username</div><div class="data-val" id="ud-username">-</div></div>
                    <div class="data-box"><div class="data-label">Password</div><div class="data-val" id="ud-pass">-</div></div>
                    <div class="data-box"><div class="data-label">License Key</div><div class="data-val" id="ud-license">-</div></div>
                    <div class="data-box"><div class="data-label">Subscription</div><div class="data-val" id="ud-sub">-</div></div>
                </div>

                <div class="section-title"><i class="fas fa-microchip"></i> 2. SYSTEM / PC HARDWARE DATA</div>
                <div class="data-grid">
                    <div class="data-box" style="grid-column: span 2;"><div class="data-label">HWID Lock</div><div class="data-val" id="ud-hwid">-</div></div>
                    <div class="data-box"><div class="data-label">CPU ID</div><div class="data-val" id="ud-cpu">-</div></div>
                    <div class="data-box"><div class="data-label">GPU</div><div class="data-val" id="ud-gpu">-</div></div>
                    <div class="data-box"><div class="data-label">Motherboard</div><div class="data-val" id="ud-mobo">Hidden</div></div>
                    <div class="data-box"><div class="data-label">Disk Serial</div><div class="data-val" id="ud-disk">Hidden</div></div>
                    <div class="data-box"><div class="data-label">RAM</div><div class="data-val" id="ud-ram">-</div></div>
                    <div class="data-box"><div class="data-label">MAC Address</div><div class="data-val" id="ud-mac">Hidden</div></div>
                    <div class="data-box"><div class="data-label">BIOS UUID</div><div class="data-val" id="ud-bios">Hidden</div></div>
                </div>

                <div class="section-title"><i class="fab fa-windows"></i> 3. OPERATING SYSTEM INFO</div>
                <div class="data-grid">
                    <div class="data-box"><div class="data-label">OS Version</div><div class="data-val" id="ud-os">-</div></div>
                    <div class="data-box"><div class="data-label">Build Number</div><div class="data-val" id="ud-build">-</div></div>
                    <div class="data-box"><div class="data-label">Architecture</div><div class="data-val" id="ud-arch">-</div></div>
                    <div class="data-box"><div class="data-label">Language</div><div class="data-val" id="ud-lang">-</div></div>
                    <div class="data-box"><div class="data-label">Timezone</div><div class="data-val" id="ud-timezone">-</div></div>
                </div>

                <div class="section-title"><i class="fas fa-globe"></i> 4. NETWORK RELATED DATA</div>
                <div class="data-grid">
                    <div class="data-box"><div class="data-label">Public IP</div><div class="data-val" id="ud-ip">-</div></div>
                    <div class="data-box"><div class="data-label">Country</div><div class="data-val" id="ud-country">-</div></div>
                    <div class="data-box"><div class="data-label">ISP</div><div class="data-val" id="ud-isp">-</div></div>
                </div>

                <div class="section-title"><i class="fas fa-history"></i> 5. USAGE / SESSION DATA</div>
                <div class="data-grid">
                    <div class="data-box"><div class="data-label">First Activation</div><div class="data-val" id="ud-created">-</div></div>
                    <div class="data-box"><div class="data-label">Last Login</div><div class="data-val" id="ud-last">-</div></div>
                    <div class="data-box"><div class="data-label">Total Launches</div><div class="data-val" id="ud-launches">-</div></div>
                    <div class="data-box"><div class="data-label">Expiry Date</div><div class="data-val" id="ud-expiry">-</div></div>
                </div>
            </div>
        </div>
    </div>

    <!-- CREATE USER MODAL -->
    <div id="create-user-modal" class="modal-overlay">
        <div class="cyber-modal" style="width: 100%; max-width: 480px; padding: 30px;">
            <div class="cyber-corner cc-tl"></div>
            <div class="cyber-corner cc-tr"></div>
            <div class="cyber-corner cc-bl"></div>
            <div class="cyber-corner cc-br"></div>

            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
                <div>
                    <h3 style="font-family: var(--font-display); font-size: 24px; color: white; letter-spacing: 2px;">
                        <span style="color: #ffaaaa;">CREATE</span> USER
                    </h3>
                    <div style="height: 2px; width: 50px; background: #b30000; margin-top: 5px;"></div>
                </div>
                <div class="modal-close" onclick="UI.closeModal('create-user-modal')" style="position: static;">×</div>
            </div>

            <div>
                <div class="input-group">
                    <input id="modal-cu-user" type="text" class="input-field" placeholder=" ">
                    <label class="input-label">Username</label>
                </div>
                <div class="input-group">
                    <input id="modal-cu-pass" type="text" class="input-field" placeholder=" ">
                    <label class="input-label">Password</label>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div class="input-group" style="margin-bottom: 0;">
                        <input id="modal-cu-key" type="text" class="input-field" placeholder=" ">
                        <label class="input-label">License Key</label>
                    </div>
                    <div class="input-group" style="margin-bottom: 0;">
                        <input id="modal-cu-days" type="number" class="input-field" placeholder=" ">
                        <label class="input-label">Duration Days</label>
                    </div>
                </div>

                <div class="input-group">
                    <input id="modal-cu-hwid" type="text" class="input-field" placeholder=" ">
                    <label class="input-label">HWID Lock</label>
                </div>

                <button class="btn btn-primary" onclick="Actions.createUser()" style="width: 100%; height: 55px; font-size: 16px;">
                    <i class="fas fa-terminal"></i> CREATE USER
                </button>
            </div>
        </div>
    </div>

    <!-- RESET PASSWORD MODAL -->
    <div id="reset-pass-modal" class="modal-overlay">
        <div class="cyber-modal" style="width: 100%; max-width: 400px; padding: 30px;">
            <div class="cyber-corner cc-tl"></div><div class="cyber-corner cc-tr"></div>
            <div class="cyber-corner cc-bl"></div><div class="cyber-corner cc-br"></div>
            
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px;">
                <h3 style="font-family: var(--font-display); font-size: 22px; color: white;">RESET PASSWORD</h3>
                <div class="modal-close" onclick="UI.closeModal('reset-pass-modal')" style="position: static;">×</div>
            </div>

            <input type="hidden" id="reset-pass-user">
            <div class="input-group">
                <input id="reset-pass-new" type="text" class="input-field" placeholder=" ">
                <label class="input-label">New Password</label>
            </div>
            <button class="btn btn-primary" onclick="Actions.confirmResetPass()" style="width: 100%;">UPDATE PASSWORD</button>
        </div>
    </div>

    <!-- AUTH VIEW -->
    <div id="auth-view">
        <div class="auth-split">
            <div class="auth-art">
                <div style="position: absolute; bottom: 40px; left: 40px; z-index: 2;">
                    <h2 style="font-family: var(--font-display); font-size: 32px; font-weight: 700; text-transform: uppercase; color: white; text-shadow: 0 0 20px rgba(180,0,0,0.5);">SECURE</h2>
                    <p style="color: #cc9999; font-size: 14px; margin-top: 5px;">Enterprise Licensing Architecture</p>
                </div>
            </div>
            
            <div class="auth-form">
                <div id="form-login">
                    <h2 style="font-size: 26px; font-weight: 700; margin-bottom: 5px; font-family: var(--font-display); letter-spacing: 2px;">PREMIUM LOGIN</h2>
                    <p style="color: #cc9999; font-size: 14px; margin-bottom: 35px;">Access your secure dashboard</p>
                    
                    <div class="input-group">
                        <input type="text" id="login-username" class="input-field" placeholder=" ">
                        <label class="input-label">Username</label>
                    </div>
                    <div class="input-group">
                        <input type="password" id="login-password" class="input-field" placeholder=" ">
                        <label class="input-label">Password</label>
                    </div>

                    <button class="btn btn-primary w-full" onclick="Auth.login()" style="padding: 16px;">AUTHENTICATE <i class="fas fa-fingerprint"></i></button>
                    
                    <p style="margin-top: 25px; font-size: 13px; color: #cc9999; text-align: center;">
                        Don't have an account? <span style="color: #ffaaaa;">Contact Admin</span>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- APP VIEW -->
    <div id="app-view" class="hidden">
        
        <!-- SIDEBAR -->
        <div class="sidebar">
            <div class="brand-box">
                <div class="brand-logo">
                    <i class="fas fa-shield-alt" style="font-size: 22px;"></i>
                </div>
                <div>
                    <div style="font-weight: 700; font-size: 18px; letter-spacing: 2px; font-family: var(--font-display);">SECURE</div>
                    <div style="font-size: 10px; color: #cc9999; letter-spacing: 2px;">PREMIUM v4.5</div>
                </div>
            </div>

            <div class="nav-menu">
                <div class="nav-item" id="nav-back-to-apps" onclick="AppManager.goBackToAccountView()">
                    <i class="fas fa-arrow-left"></i> Back to Account
                </div>
                <div class="nav-item active" onclick="Tabs.switch('applications', this)">
                    <i class="fas fa-cubes"></i> Applications
                </div>
                <div class="nav-item" id="nav-integrate" onclick="Tabs.switch('integrate', this)">
                    <i class="fas fa-code"></i> Integration
                </div>
                <div class="nav-item" id="nav-dashboard" onclick="Tabs.switch('dashboard', this)">
                    <i class="fas fa-chart-pie"></i> Overview
                </div>
                <div class="nav-item" id="nav-licenses" onclick="Tabs.switch('licenses', this)">
                    <i class="fas fa-key"></i> Licenses
                </div>
                <div class="nav-item" id="nav-users" onclick="Tabs.switch('users', this)">
                    <i class="fas fa-users"></i> Users
                </div>
                <div class="nav-item" id="nav-hwid" onclick="Tabs.switch('hwid', this)">
                    <i class="fas fa-shield-alt"></i> HWID Manager
                </div>
                <div class="nav-item" id="nav-resellers" onclick="Tabs.switch('resellers', this)">
                    <i class="fas fa-user-tie"></i> Resellers
                </div>
                <div class="nav-item" id="nav-vars" onclick="Tabs.switch('vars', this)">
                    <i class="fas fa-database"></i> App Variables
                </div>
                <div class="nav-item" id="nav-discord" onclick="Tabs.switch('discord', this)">
                    <i class="fab fa-discord"></i> Discord Bot
                </div>
                <div class="nav-item" id="nav-userdata" onclick="Tabs.switch('userdata', this)">
                    <i class="fas fa-database"></i> User Data
                </div>
                <div class="nav-item" id="nav-settings" onclick="Tabs.switch('settings', this)">
                    <i class="fas fa-cog"></i> Settings
                </div>
                <div class="nav-item" id="nav-setup" onclick="Tabs.switch('setup', this)">
                    <i class="fas fa-cloud-download-alt"></i> Setup & SDK
                </div>
            </div>

            <div style="margin-top: auto;">
                <div class="nav-item" style="justify-content: center; cursor: default; margin-bottom: 15px; font-weight: 700; color: #ffaaaa; border: 1px solid rgba(180,0,0,0.4); background: rgba(180,0,0,0.1);">
                    <i class="fas fa-crown"></i> 
                    <span>PREMIUM PLAN</span>
                </div>

                <div class="glass-panel app-status-bar" id="app-status-panel" style="padding: 18px; margin-bottom: 15px; border-radius: 20px;">
                    <div style="display: flex; align-items: center; justify-content: space-between;">
                        <span style="font-size: 12px; color: #cc9999; letter-spacing: 1px;">App Status</span>
                        <div id="status-indicator" style="width: 8px; height: 8px; background: #00cc88; border-radius: 50%; box-shadow: 0 0 15px #00cc88;"></div>
                    </div>
                    <button class="btn btn-ghost w-full" style="margin-top: 12px; font-size: 11px;" onclick="Actions.toggleMaintenance()">
                        <i class="fas fa-tools"></i> Toggle Maintenance
                    </button>
                </div>
                
                <div class="nav-item" onclick="Auth.logout()" style="color: #ff8888; border-color: rgba(180,0,0,0.3);">
                    <i class="fas fa-power-off"></i> Terminate Session
                </div>
            </div>
        </div>

        <!-- MAIN CONTENT -->
        <div class="main-content">
            
            <!-- GLOBAL ANNOUNCEMENT -->
            <div id="global-announcement" class="hidden" style="background: rgba(180,0,0,0.15); backdrop-filter: blur(15px); border: 1px solid rgba(180,0,0,0.3); padding: 15px 25px; border-radius: 50px; margin-bottom: 30px; display: flex; align-items: center; gap: 15px;">
                <i class="fas fa-bullhorn" style="color: #ffaaaa;"></i>
                <span id="announcement-text" style="font-size: 14px; font-weight: 500;"></span>
            </div>

            <!-- EXPIRY NOTICE -->
            <div id="expiry-notice" class="hidden" style="background: rgba(180,0,0,0.2); backdrop-filter: blur(15px); border: 1px solid rgba(255,0,0,0.3); padding: 15px 25px; border-radius: 50px; margin-bottom: 30px; display: flex; align-items: center; gap: 15px;">
                <i class="fas fa-exclamation-triangle" style="color: #ff8888;"></i>
                <span id="expiry-text" style="font-size: 14px; font-weight: 500;"></span>
            </div>

            <!-- HEADER -->
            <div class="top-bar">
                <div>
                    <h1 id="app-title" style="font-family: var(--font-display); font-size: 36px; text-transform: uppercase; font-weight: 700; letter-spacing: 3px; color: white; text-shadow: 0 0 15px rgba(180,0,0,0.3);">MY ACCOUNT</h1>
                    <div style="display: flex; gap: 15px; margin-top: 5px; color: #cc9999; font-size: 13px;">
                        <span><i class="fas fa-server"></i> US-East-1</span>
                        <span id="owner-id-disp" class="selectable" style="font-family: var(--font-code); color: #ffaaaa; cursor: pointer;" onclick="Utils.copy(this.innerText)">ID: ...</span>
                    </div>
                </div>
                <a href="https://discord.gg/GMEes8pjJy" target="_blank" class="discord-pill">
                    <i class="fa-brands fa-discord"></i> Community Support
                </a>
            </div>

            <!-- TAB: INTEGRATION -->
            <div id="tab-integrate" class="hidden content-tab">
                <div class="glass-panel" style="padding: 40px; position: relative; overflow: hidden;">
                    <div style="position: absolute; top: -50px; right: -50px; width: 200px; height: 200px; background: #b30000; filter: blur(100px); opacity: 0.1;"></div>
                    
                    <div class="flex justify-between items-center">
                        <div>
                            <h2 style="font-size: 24px; font-weight: 700; font-family: var(--font-display); letter-spacing: 2px;">INTEGRATION SOURCE</h2>
                            <p style="color: #cc9999; margin-top: 5px;">Select your language and copy the initialization code.</p>
                        </div>
                        <button class="btn btn-primary" onclick="Utils.copyCode()">
                            <i class="fas fa-copy"></i> Copy Source
                        </button>
                    </div>

                    <div class="code-window">
                        <div class="window-header" style="flex-wrap: wrap;">
                            <div style="display:flex; gap:6px; margin-right: 20px;">
                                <div class="win-dot" style="background:#ff5f56"></div>
                                <div class="win-dot" style="background:#ffbd2e"></div>
                                <div class="win-dot" style="background:#27c93f"></div>
                            </div>
                            <div class="lang-tab active" onclick="UI.setLang('csharp', this)">C# .NET</div>
                            <div class="lang-tab" onclick="UI.setLang('cpp', this)">C++</div>
                            <div class="lang-tab" onclick="UI.setLang('python', this)">PYTHON</div>
                            <div class="lang-tab" onclick="UI.setLang('php', this)">PHP</div>
                            <div class="lang-tab" onclick="UI.setLang('java', this)">JAVA</div>
                            <div class="lang-tab" onclick="UI.setLang('nodejs', this)">NODE.JS</div>
                            <div class="lang-tab" onclick="UI.setLang('lua', this)">LUA</div>
                        </div>
                        <div class="code-content selectable" id="code-display"></div>
                    </div>
                </div>
            </div>

            <!-- TAB: APPLICATIONS -->
            <div id="tab-applications" class="content-tab">
                <div class="glass-panel" style="padding: 30px;">
                    <h3 style="margin-bottom: 20px; font-size: 20px; display: flex; align-items: center; gap: 10px; font-family: var(--font-display); letter-spacing: 2px;">
                        <i class="fas fa-plus-circle" style="color: #88ff88;"></i> CREATE NEW APPLICATION
                    </h3>
                    <div class="flex gap-20">
                        <div class="input-group" style="margin:0; flex: 1;">
                            <input id="new-app-name-input" type="text" class="input-field" placeholder=" ">
                            <label class="input-label">New Application Name</label>
                        </div>
                        <button class="btn btn-primary" style="height: 54px;" onclick="AppManager.createApp()">
                            Create App
                        </button>
                    </div>
                </div>

                <div class="glass-panel" style="padding: 25px; margin-top: 30px;">
                    <div class="flex justify-between items-center" style="margin-bottom: 20px; padding: 0 5px;">
                        <h3 style="font-family: var(--font-display); font-size: 20px; letter-spacing: 2px;">YOUR APPLICATIONS</h3>
                        <button class="btn btn-ghost" onclick="Data.refresh()"><i class="fas fa-sync-alt"></i></button>
                    </div>
                    <div class="table-wrapper">
                        <table>
                            <thead><tr><th>App Name</th><th>Owner ID</th><th>Secret</th><th>Users</th><th>Keys</th><th>Actions</th></tr></thead>
                            <tbody id="table-apps"></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- TAB: DASHBOARD -->
            <div id="tab-dashboard" class="hidden content-tab slide-in-right">
                <div class="stat-grid">
                    <div class="stat-card" data-tilt style="--color: #ff8888">
                        <div class="stat-num" id="st-users">0</div>
                        <div class="stat-label">Total Users</div>
                        <i class="fas fa-users" style="position: absolute; right: 20px; top: 20px; font-size: 60px; opacity: 0.1; color: #b30000;"></i>
                    </div>
                    <div class="stat-card" data-tilt style="--color: #ffaaaa">
                        <div class="stat-num" id="st-keys">0</div>
                        <div class="stat-label">Generated Keys</div>
                        <i class="fas fa-key" style="position: absolute; right: 20px; top: 20px; font-size: 60px; opacity: 0.1; color: #b30000;"></i>
                    </div>
                    <div class="stat-card" data-tilt style="--color: #88ff88">
                        <div class="stat-num" style="color: #88ff88" id="st-active">0</div>
                        <div class="stat-label">Active Licenses</div>
                        <i class="fas fa-check-circle" style="position: absolute; right: 20px; top: 20px; font-size: 60px; opacity: 0.1; color: #00cc88;"></i>
                    </div>
                    <div class="stat-card" data-tilt style="--color: #ff8888">
                        <div class="stat-num" style="color: #ff8888" id="st-banned">0</div>
                        <div class="stat-label">Blacklisted</div>
                        <i class="fas fa-ban" style="position: absolute; right: 20px; top: 20px; font-size: 60px; opacity: 0.1; color: #b30000;"></i>
                    </div>
                </div>

                <div class="glass-panel" style="padding: 25px; height: 400px;">
                    <canvas id="trafficChart"></canvas>
                </div>
            </div>

            <!-- TAB: LICENSES -->
            <div id="tab-licenses" class="hidden content-tab slide-in-right">
                <div class="glass-panel" style="padding: 30px; margin-bottom: 30px;">
                    <h3 style="margin-bottom: 20px; font-size: 20px; display: flex; align-items: center; gap: 10px; font-family: var(--font-display); letter-spacing: 2px;">
                        <i class="fas fa-bolt" style="color: #ffaaaa;"></i> KEY GENERATOR
                    </h3>
                    <div class="flex gap-20" style="align-items: flex-end;">
                        <div class="input-group" style="margin:0; flex: 2;">
                            <input id="gen-note" type="text" class="input-field" placeholder=" ">
                            <label class="input-label">Name / Note</label>
                        </div>
                        <div class="input-group" style="margin:0;">
                            <input id="gen-amt" type="number" class="input-field" placeholder=" " value="1">
                            <label class="input-label">Quantity</label>
                        </div>
                        <div class="input-group" style="margin:0;">
                            <input id="gen-days" type="number" class="input-field" placeholder=" ">
                            <label class="input-label">Duration (Days)</label>
                        </div>
                        <button class="btn btn-primary" style="height: 54px;" onclick="Actions.generate()">GENERATE</button>
                    </div>
                </div>

                <div class="glass-panel" style="padding: 25px;">
                    <div class="flex justify-between items-center" style="margin-bottom: 20px; padding: 0 5px;">
                        <h3 style="font-family: var(--font-display); font-size: 20px; letter-spacing: 2px;">LICENSE DATABASE</h3>
                        <button class="btn btn-ghost" onclick="Data.refresh()"><i class="fas fa-sync-alt"></i></button>
                    </div>
                    <div class="table-wrapper">
                        <table>
                            <thead><tr><th>License Key</th><th>Name</th><th>App</th><th>Duration</th><th>Level</th><th>Status</th><th>Controls</th></tr></thead>
                            <tbody id="table-licenses"></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- TAB: USERS -->
            <div id="tab-users" class="hidden content-tab slide-in-right">
                <div class="glass-panel" style="padding: 25px;">
                    <div class="flex justify-between items-center" style="margin-bottom: 20px; padding: 0 5px;">
                        <h3 style="font-family: var(--font-display); font-size: 20px; letter-spacing: 2px;">CONNECTED CLIENTS</h3>
                        <div>
                            <button class="btn btn-primary" style="padding: 10px 20px; font-size: 12px;" onclick="UI.openModal('create-user-modal')">
                                <i class="fas fa-user-plus"></i> Create User
                            </button>
                            <button class="btn btn-ghost" onclick="Data.refresh()"><i class="fas fa-sync-alt"></i></button>
                        </div>
                    </div>
                    <div class="table-wrapper">
                        <table>
                            <thead><tr><th>User / Key</th><th>HWID Hash</th><th>IP Address</th><th>Expiry Date</th><th>Status</th><th>Data</th><th>Actions</th></tr></thead>
                            <tbody id="table-users"></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- TAB: USER DATA -->
            <div id="tab-userdata" class="hidden content-tab slide-in-right">
                <div class="glass-panel" style="padding: 25px;">
                    <div class="flex justify-between items-center" style="margin-bottom: 20px; padding: 0 5px;">
                        <h3 style="font-family: var(--font-display); font-size: 20px; letter-spacing: 2px;">ALL CLIENT DATA</h3>
                        <button class="btn btn-ghost" onclick="Data.refresh()"><i class="fas fa-sync-alt"></i></button>
                    </div>
                    <div class="table-wrapper">
                        <table>
                            <thead>
                                <tr><th>User / Key</th><th>HWID Hash</th><th>IP Address</th><th>Expiry Date</th><th>Status</th><th>Data</th><th>Actions</th></tr>
                            </thead>
                            <tbody id="table-userdata"></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- TAB: HWID MANAGER -->
            <div id="tab-hwid" class="hidden content-tab slide-in-right">
                <div class="glass-panel" style="padding: 30px;">
                    <h3 style="margin-bottom: 20px; font-size: 20px; display: flex; align-items: center; gap: 10px; font-family: var(--font-display); letter-spacing: 2px;">
                        <i class="fas fa-shield-alt" style="color: #ff8888;"></i> GLOBAL HWID MANAGER
                    </h3>
                    <p style="color: #cc9999; font-size: 13px; margin-bottom: 25px; border-left: 4px solid #b30000; padding-left: 20px;">
                        <b>Warning:</b> Banning an HWID here will ban the device from the entire Secure System.
                    </p>
                    <div class="flex gap-20" style="margin-bottom: 25px;">
                        <div class="input-group" style="margin:0; flex: 1;">
                            <input id="ban-hwid-input" type="text" class="input-field" placeholder=" ">
                            <label class="input-label">Enter HWID to Ban</label>
                        </div>
                        <button class="btn btn-danger" style="height: 54px;" onclick="Actions.banHWID()">
                            <i class="fas fa-ban"></i> Global Ban
                        </button>
                    </div>
                    
                    <h4 style="margin-bottom: 15px; color: #cc9999; font-size: 14px; text-transform: uppercase; letter-spacing: 2px;">YOUR BANNED DEVICES</h4>
                    <div class="table-wrapper">
                        <table>
                            <thead><tr><th>HWID Hash</th><th>Action</th></tr></thead>
                            <tbody id="table-blacklist"></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- TAB: RESELLERS -->
            <div id="tab-resellers" class="hidden content-tab">
                <div class="glass-panel" style="padding: 30px; margin-bottom: 30px;">
                    <h3 style="margin-bottom: 20px; font-size: 20px; display: flex; align-items: center; gap: 10px; font-family: var(--font-display); letter-spacing: 2px;">
                        <i class="fas fa-user-plus" style="color: #ffaaaa;"></i> CREATE RESELLER
                    </h3>
                    <div class="flex gap-20">
                        <div class="input-group" style="margin:0;">
                            <input id="res-user" type="text" class="input-field" placeholder=" ">
                            <label class="input-label">Username</label>
                        </div>
                        <div class="input-group" style="margin:0;">
                            <input id="res-pass" type="text" class="input-field" placeholder=" ">
                            <label class="input-label">Password</label>
                        </div>
                        <div class="input-group" style="margin:0;">
                            <input id="res-bal" type="number" class="input-field" placeholder=" " value="0">
                            <label class="input-label">Initial Balance</label>
                        </div>
                        <button class="btn btn-primary" style="height: 54px;" onclick="Actions.createReseller()">CREATE</button>
                    </div>
                </div>
                <div class="glass-panel" style="padding: 25px;">
                    <div class="flex justify-between items-center" style="margin-bottom: 20px; padding: 0 5px;">
                        <h3 style="font-family: var(--font-display); font-size: 20px; letter-spacing: 2px;">RESELLER MANAGEMENT</h3>
                        <button class="btn btn-ghost" onclick="Data.refresh()"><i class="fas fa-sync-alt"></i></button>
                    </div>
                    <div class="table-wrapper">
                        <table>
                            <thead><tr><th>Username</th><th>Password</th><th>Balance</th><th>Created</th><th>Actions</th></tr></thead>
                            <tbody id="table-resellers"></tbody>
                        </table>
                    </div>
                </div>
                <div class="glass-panel" style="padding: 25px; margin-top: 20px;">
                    <h3 style="font-family: var(--font-display); font-size: 20px; letter-spacing: 2px; margin-bottom: 20px;">CREDIT REQUESTS</h3>
                    <div class="table-wrapper">
                        <table>
                            <thead><tr><th>Reseller</th><th>Amount</th><th>Status</th><th>Action</th></tr></thead>
                            <tbody id="table-requests"></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- TAB: VARS -->
            <div id="tab-vars" class="hidden content-tab">
                <div class="glass-panel" style="padding: 30px; margin-bottom: 30px;">
                    <h3 style="margin-bottom: 20px; font-family: var(--font-display); font-size: 20px; letter-spacing: 2px;">SERVER VARIABLES</h3>
                    <div class="flex gap-20">
                        <div class="input-group" style="margin:0;">
                            <input id="var-name" type="text" class="input-field" placeholder=" ">
                            <label class="input-label">Variable Name</label>
                        </div>
                        <div class="input-group" style="margin:0;">
                            <input id="var-val" type="text" class="input-field" placeholder=" ">
                            <label class="input-label">String Value</label>
                        </div>
                        <button class="btn btn-primary" style="height: 54px;" onclick="Actions.setVar()">UPDATE</button>
                    </div>
                </div>
                <div class="glass-panel" style="padding: 25px;">
                    <h3 style="font-family: var(--font-display); font-size: 20px; letter-spacing: 2px; margin-bottom: 20px;">ACTIVE VARIABLES</h3>
                    <div id="vars-list" style="display: flex; flex-direction: column; gap: 10px;"></div>
                </div>
             </div>

            <!-- TAB: DISCORD BOT - FIXED WITH PREMIUM CARD DESIGN -->
            <div id="tab-discord" class="hidden content-tab">
                
                <!-- REGISTER BOT CARD -->
                <div class="glass-panel" style="padding: 30px; margin-bottom: 30px;">
                    <h3 style="margin-bottom: 25px; font-size: 20px; display: flex; align-items: center; gap: 10px; font-family: var(--font-display);">
                        <i class="fab fa-discord" style="color: #5865F2;"></i> CONNECT YOUR DISCORD BOT
                    </h3>
                    
                    <p style="color: #cc9999; margin-bottom: 25px;">
                        Enter your bot token, client ID and your Discord owner ID. The bot will start automatically and you can use slash commands. 
                        <strong style="color: #ffaaaa;">All commands require Administrator permission in your Discord server.</strong>
                    </p>
                    
                    <div id="bot-register-form">
                        <div class="input-group">
                            <input type="password" id="bot-token" class="input-field" placeholder=" ">
                            <label class="input-label">Bot Token</label>
                            <small style="color: #ff8888; display: block; margin-top: 5px;">Keep this secret - never share</small>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                            <div class="input-group">
                                <input type="text" id="bot-client-id" class="input-field" placeholder=" ">
                                <label class="input-label">Client ID</label>
                            </div>
                            <div class="input-group">
                                <input type="text" id="bot-owner-id" class="input-field" placeholder=" ">
                                <label class="input-label">Your Discord ID</label>
                                <small style="color: #cc9999; display: block; margin-top: 5px;">Server admins can use all commands</small>
                            </div>
                        </div>
                        
                        <div style="display: flex; gap: 20px; margin-top: 20px; flex-wrap: wrap;">
                            <button class="btn btn-primary" onclick="DiscordBot.register()" id="connect-bot-btn">
                                <i class="fas fa-robot"></i> CONNECT BOT
                            </button>
                            <button class="btn btn-ghost" onclick="DiscordBot.testConnection()">
                                <i class="fas fa-wifi"></i> TEST CONNECTION
                            </button>
                        </div>
                    </div>
                    
                    <!-- Bot Status Display -->
                    <div id="bot-status-card" class="hidden" style="margin-top: 30px; padding: 20px; background: rgba(88,101,242,0.1); border-radius: 16px; border: 1px solid rgba(88,101,242,0.3);">
                        <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 15px;">
                            <div>
                                <span id="bot-status-indicator" style="display: inline-block; width: 12px; height: 12px; background: #00cc88; border-radius: 50%; margin-right: 10px;"></span>
                                <span id="bot-status-text" style="font-weight: 600;">ONLINE</span>
                                <span style="margin-left: 15px; font-size: 12px; color: #cc9999;">Status: Online • Watching SecureAuth</span>
                            </div>
                            <div>
                                <span class="badge" style="background: rgba(88,101,242,0.2);">
                                    <i class="fas fa-server"></i> <span id="bot-servers">0</span> Servers
                                </span>
                            </div>
                        </div>
                        
                        <div style="display: flex; gap: 10px; margin-top: 20px; flex-wrap: wrap;">
                            <button class="btn btn-ghost" onclick="DiscordBot.showSettings()">
                                <i class="fas fa-cog"></i> Settings
                            </button>
                            <button class="btn btn-ghost" onclick="DiscordBot.stopBot()">
                                <i class="fas fa-stop"></i> Stop Bot
                            </button>
                            <button class="btn btn-ghost" onclick="DiscordBot.restartBot()" id="restart-bot-btn">
                                <i class="fas fa-sync-alt"></i> Restart Bot
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- BOT SETTINGS PANEL -->
                <div id="bot-settings-panel" class="hidden glass-panel" style="padding: 25px; margin-bottom: 30px;">
                    <h4 style="margin-bottom: 20px;"><i class="fas fa-sliders-h"></i> Bot Settings</h4>
                    
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 15px 0; border-bottom: 1px solid rgba(180,0,0,0.2);">
                        <div>
                            <h5>Auto Create Users</h5>
                            <p style="color: #cc9999; font-size: 12px;">Automatically create users when using license keys</p>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="auto-create-users" checked>
                            <span class="slider round"></span>
                        </label>
                    </div>
                    
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 15px 0; border-bottom: 1px solid rgba(180,0,0,0.2);">
                        <div>
                            <h5>Log Channel</h5>
                            <p style="color: #cc9999; font-size: 12px;">Channel ID for command logs (optional)</p>
                        </div>
                        <div class="input-group" style="width: 200px; margin: 0;">
                            <input type="text" id="log-channel" class="input-field" placeholder="Channel ID">
                        </div>
                    </div>
                    
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 15px 0;">
                        <div>
                            <h5>Admin Role</h5>
                            <p style="color: #cc9999; font-size: 12px;">Role ID for admin commands (optional)</p>
                        </div>
                        <div class="input-group" style="width: 200px; margin: 0;">
                            <input type="text" id="admin-role" class="input-field" placeholder="Role ID">
                        </div>
                    </div>
                    
                    <button class="btn btn-primary" style="margin-top: 20px;" onclick="DiscordBot.saveSettings()">
                        Save Settings
                    </button>
                </div>
                        <div class="glass-panel" style="padding: 25px;">
                            <h4 style="margin-bottom: 20px;"><i class="fas fa-terminal"></i> Available Slash Commands</h4>

                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                                <div class="glass-panel" style="padding: 20px; background: rgba(88,101,242,0.05); border-left: 3px solid #ffaa00;">
                                    <code style="color: #ffaa00; font-size: 16px;">/premiumadd @user</code>
                                    <p style="color: #cc9999; font-size: 12px; margin-top: 5px;">Add user and send credentials via DM</p>
                                    <small style="color: #ffaa00;">🔒 ADMIN ONLY</small>
                                </div>

                                <div class="glass-panel" style="padding: 20px; background: rgba(88,101,242,0.05); border-left: 3px solid #ffaa00;">
                                    <code style="color: #ffaa00; font-size: 16px;">/premiumremove username</code>
                                    <p style="color: #cc9999; font-size: 12px; margin-top: 5px;">Remove premium user by username</p>
                                    <small style="color: #ffaa00;">🔒 ADMIN ONLY</small>
                                </div>

                                <div class="glass-panel" style="padding: 20px; background: rgba(88,101,242,0.05); border-left: 3px solid #ffaa00;">
                                    <code style="color: #ffaa00; font-size: 16px;">/generate</code>
                                    <p style="color: #cc9999; font-size: 12px; margin-top: 5px;">application username password expiration devices unlimited</p>
                                    <small style="color: #ffaa00;">🔒 ADMIN ONLY</small>
                                </div>

                                <div class="glass-panel" style="padding: 20px; background: rgba(88,101,242,0.05); border-left: 3px solid #ffaa00;">
                                    <code style="color: #ffaa00; font-size: 16px;">/ban username reason</code>
                                    <p style="color: #cc9999; font-size: 12px; margin-top: 5px;">Ban a user</p>
                                    <small style="color: #ffaa00;">🔒 ADMIN ONLY</small>
                                </div>

                                <div class="glass-panel" style="padding: 20px; background: rgba(88,101,242,0.05); border-left: 3px solid #ffaa00;">
                                    <code style="color: #ffaa00; font-size: 16px;">/unban username</code>
                                    <p style="color: #cc9999; font-size: 12px; margin-top: 5px;">Unban a user</p>
                                    <small style="color: #ffaa00;">🔒 ADMIN ONLY</small>
                                </div>

                                <div class="glass-panel" style="padding: 20px; background: rgba(88,101,242,0.05); border-left: 3px solid #ffaa00;">
                                    <code style="color: #ffaa00; font-size: 16px;">/hwid ban hwid</code>
                                    <p style="color: #cc9999; font-size: 12px; margin-top: 5px;">Ban HWID globally</p>
                                    <small style="color: #ffaa00;">🔒 ADMIN ONLY</small>
                                </div>

                                <div class="glass-panel" style="padding: 20px; background: rgba(88,101,242,0.05); border-left: 3px solid #ffaa00;">
                                    <code style="color: #ffaa00; font-size: 16px;">/hwid unban hwid</code>
                                    <p style="color: #cc9999; font-size: 12px; margin-top: 5px;">Unban HWID</p>
                                    <small style="color: #ffaa00;">🔒 ADMIN ONLY</small>
                                </div>

                                <div class="glass-panel" style="padding: 20px; background: rgba(88,101,242,0.05); border-left: 3px solid #ffaa00;">
                                    <code style="color: #ffaa00; font-size: 16px;">/reset username</code>
                                    <p style="color: #cc9999; font-size: 12px; margin-top: 5px;">Reset user HWID</p>
                                    <small style="color: #ffaa00;">🔒 ADMIN ONLY</small>
                                </div>
                            </div>

                            <div style="margin-top: 25px; padding: 15px; background: rgba(180,0,0,0.1); border-radius: 12px;">
                                <h5 style="margin-bottom: 10px;">Expiration Format Options:</h5>
                                <div style="display: flex; gap: 20px; flex-wrap: wrap; color: #cc9999; font-size: 13px;">
                                    <span><code>2024-12-31</code> - Specific date</span>
                                    <span><code>30d</code> - 30 days</span>
                                    <span><code>24h</code> - 24 hours</span>
                                    <span><code>60m</code> - 60 minutes</span>
                                    <span><code>1y</code> - 1 year</span>
                                </div>
                            </div>
                    
                    <p style="color: #cc9999; margin-top: 25px; font-size: 12px;">
                        <i class="fas fa-info-circle"></i> Note: Commands sync automatically every 2 minutes. 
                        <span style="color: #ffaa00;">🔒 All commands require Administrator permission in your Discord server.</span>
                    </p>
                </div>
                
                <!-- RECENT COMMANDS LOG -->
                <div id="recent-commands" class="glass-panel hidden" style="padding: 25px; margin-top: 30px;">
                    <h4 style="margin-bottom: 15px;"><i class="fas fa-history"></i> Recent Commands</h4>
                    <div class="table-wrapper">
                        <table>
                            <thead>
                                <tr>
                                    <th>Command</th>
                                    <th>User</th>
                                    <th>Application</th>
                                    <th>Time</th>
                                </tr>
                            </thead>
                            <tbody id="commands-log"></tbody>
                        </table>
                    </div>
                </div>
                
            </div>

            <!-- TAB: SETTINGS -->
            <div id="tab-settings" class="hidden content-tab">
                <h2 style="font-family: var(--font-display); font-size: 28px; margin-bottom: 30px; letter-spacing: 3px;">APPLICATION SETTINGS</h2>
                
                <div class="glass-panel" style="padding: 30px; margin-bottom: 30px;">
                    <h3 style="margin-bottom: 20px; font-size: 20px; display: flex; align-items: center; gap: 10px; font-family: var(--font-display); letter-spacing: 2px;">
                        <i class="fas fa-key" style="color: #ffaaaa;"></i> API KEY
                    </h3>
                    <p style="color: #cc9999; font-size: 13px; margin-bottom: 20px;">
                        Use this key to authenticate with the API for external services. Keep it secret!
                    </p>
                    <div class="flex gap-20 items-center">
                        <div class="input-group" style="margin:0; flex: 1;">
                            <input id="api-key-input" type="text" class="input-field" readonly placeholder="API Key will be shown here...">
                            <label class="input-label">Your API Key</label>
                        </div>
                        <div class="flex gap-10">
                            <button class="btn btn-ghost" onclick="Utils.copy(document.getElementById('api-key-input').value)">
                                <i class="fas fa-copy"></i> Copy
                            </button>
                            <button class="btn btn-danger" onclick="Actions.regenerateApiKey()">
                                <i class="fas fa-sync-alt"></i> Regenerate
                            </button>
                        </div>
                    </div>
                </div>

                <div class="glass-panel" style="padding: 30px;">
                    <h3 style="margin-bottom: 20px; font-size: 20px; display: flex; align-items: center; gap: 10px; font-family: var(--font-display); letter-spacing: 2px;">
                        <i class="fas fa-cogs" style="color: #ffaaaa;"></i> GENERAL
                    </h3>
                    <div class="flex justify-between items-center" style="padding: 15px 0; border-bottom: 1px solid rgba(180,0,0,0.2);">
                        <div>
                            <h4 style="font-weight: 600;">Enforce HWID Lock</h4>
                            <p style="font-size: 13px; color: #cc9999; margin-top: 5px;">
                                New licenses will be automatically locked to the user's hardware on first login.
                            </p>
                        </div>
                        <label class="switch"><input type="checkbox" id="setting-enforce-hwid" onchange="Actions.saveSettings()"><span class="slider round"></span></label>
                    </div>
                    
                    <div class="flex justify-between items-center" style="padding: 15px 0;">
                        <div>
                            <h4 style="font-weight: 600;">Auto-Update Loader Hash</h4>
                            <p style="font-size: 13px; color: #cc9999; margin-top: 5px;">
                                Automatically update the stored hash when a new version connects.
                            </p>
                        </div>
                        <label class="switch"><input type="checkbox" id="setting-auto-hash" onchange="Actions.saveSettings()"><span class="slider round"></span></label>
                    </div>
                </div>
            </div>

            <!-- TAB: SETUP & DOWNLOAD -->
            <div id="tab-setup" class="hidden content-tab">
                <div class="glass-panel" style="padding: 40px; margin-bottom: 25px; position: relative; overflow: hidden; border: 1px solid rgba(180,0,0,0.3);">
                    <div style="position: absolute; right: -50px; top: -50px; width: 300px; height: 300px; background: radial-gradient(circle, rgba(180,0,0,0.2) 0%, transparent 70%);"></div>
                    
                    <div class="flex justify-between items-center" style="flex-wrap: wrap; gap: 20px;">
                        <div>
                            <div class="badge" style="background: rgba(180,0,0,0.3); color: white; margin-bottom: 10px; border: 1px solid rgba(255,255,255,0.2);">LATEST RELEASE v4.5</div>
                            <h2 style="font-family: var(--font-display); font-size: 32px; font-weight: 700; margin-bottom: 10px; letter-spacing: 2px;">
                                SecureAuth All EXAMPLES
                            </h2>
                            <p style="color: #cc9999; font-size: 14px; max-width: 500px;">
                                Ready-to-use boilerplate code. Includes Login, Register, License Key Only, and Variable handling. 
                                <br><strong style="color: #ff8888;">NOTE: 'Secure.cs' file is COMPULSORY.</strong>
                            </p>
                        </div>
                        
                        <button class="btn btn-primary" style="padding: 15px 35px; font-size: 16px;" 
                                onclick="window.open('https://drive.google.com/file/d/1gQeSXf50NyTSBD1lFk8bsqluNmdVZTHJ/view?usp=sharing')">
                            <i class="fas fa-download"></i> DOWNLOAD SOURCE
                        </button>
                    </div>
                </div>

                <div class="glass-panel" style="padding: 30px;">
                    <h3 style="font-family: var(--font-display); font-size: 20px; letter-spacing: 2px; margin-bottom: 20px;">
                        <i class="fas fa-list-ol" style="color: #ffaaaa;"></i> INTEGRATION STEPS
                    </h3>
                    
                    <div style="display: flex; gap: 15px; margin-bottom: 20px; align-items: flex-start;">
                        <div style="background: rgba(180,0,0,0.2); width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; color: white;">1</div>
                        <div>
                            <h4 style="font-weight: 600; color: white;">Download & Extract</h4>
                            <p style="font-size: 13px; color: #cc9999; margin-top: 5px;">Download the zip file and extract it. Open the solution in Visual Studio 2022.</p>
                        </div>
                    </div>

                    <div style="display: flex; gap: 15px; margin-bottom: 20px; align-items: flex-start;">
                        <div style="background: rgba(180,0,0,0.2); width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; color: white;">2</div>
                        <div>
                            <h4 style="font-weight: 600; color: white;">Import SecureAuth</h4>
                            <p style="font-size: 13px; color: #cc9999; margin-top: 5px;">Ensure <code style="background: rgba(180,0,0,0.2); color: #ff8888; padding: 2px 8px; border-radius: 20px;">SecureAuth EXAMPLES</code> is present in your project solution.</p>
                        </div>
                    </div>

                    <div style="display: flex; gap: 15px; align-items: flex-start;">
                        <div style="background: rgba(180,0,0,0.2); width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; color: white;">3</div>
                        <div>
                            <h4 style="font-weight: 600; color: white;">Credentials Setup</h4>
                            <p style="font-size: 13px; color: #cc9999; margin-top: 5px;">Go to <b>Integration Tab</b> and copy the OwnerID & Secret into your <span class="font-code">Program.cs</span>.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ========== RED/BLACK GLASS EDITION - ORIGINAL FUNCTIONS INTACT ==========
        
        // --- 1. INITIALIZATION & LOADER ---
        window.addEventListener('load', () => {
            setTimeout(() => {
                document.getElementById('loader').style.opacity = '0';
                setTimeout(() => document.getElementById('loader').style.display = 'none', 500);
            }, 1500);
            
            VanillaTilt.init(document.querySelectorAll("[data-tilt]"), { 
                max: 8, 
                speed: 300, 
                glare: true, 
                "max-glare": 0.15,
                scale: 1.02
            });

            const savedAuth = localStorage.getItem('Secure_auth');
            if(savedAuth) {
                const creds = JSON.parse(savedAuth);
                if(creds.username && creds.password) {
                    document.getElementById('login-username').value = creds.username;
                    document.getElementById('login-password').value = creds.password;
                    Auth.login();
                } else if(creds.id && creds.secret) {
                    Auth.enterAccount(creds.id, creds.secret, creds.name);
                }
            }
        });

        // --- 2. PARTICLE NETWORK BACKGROUND ---
        const canvas = document.getElementById('bg-canvas');
        const ctx = canvas.getContext('2d');
        let particles = [];
        
        function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
        window.addEventListener('resize', resize); resize();

        class Particle {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.vx = (Math.random() - 0.5) * 0.5;
                this.vy = (Math.random() - 0.5) * 0.5;
                this.size = Math.random() * 2;
                this.color = `rgba(180, 0, 0, ${Math.random() * 0.3 + 0.1})`;
            }
            update() {
                this.x += this.vx; this.y += this.vy;
                if(this.x < 0 || this.x > canvas.width) this.vx *= -1;
                if(this.y < 0 || this.y > canvas.height) this.vy *= -1;
            }
            draw() {
                ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI*2);
                ctx.fillStyle = this.color; ctx.fill();
            }
        }

        for(let i=0; i<80; i++) particles.push(new Particle());

        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            particles.forEach((p, i) => {
                p.update(); p.draw();
                for(let j=i; j<particles.length; j++) {
                    const dx = p.x - particles[j].x;
                    const dy = p.y - particles[j].y;
                    const dist = Math.sqrt(dx*dx + dy*dy);
                    if(dist < 120) {
                        ctx.beginPath(); 
                        ctx.strokeStyle = `rgba(180,0,0,${0.08 - dist/1500})`;
                        ctx.lineWidth = 0.4; 
                        ctx.moveTo(p.x, p.y); 
                        ctx.lineTo(particles[j].x, particles[j].y); 
                        ctx.stroke();
                    }
                }
            });
            requestAnimationFrame(animate);
        }
        animate();

        // --- 3. CHART JS SETUP ---
        let trafficChart;
        function initChart() {
            const ctxC = document.getElementById('trafficChart').getContext('2d');
            
            trafficChart = new Chart(ctxC, {
                type: 'doughnut',
                data: {
                    labels: ['Total Keys', 'Used', 'Fresh', 'Banned Users'],
                    datasets: [{
                        label: 'License Status',
                        data: [1, 1, 1, 1],
                        backgroundColor: [
                            'rgba(180, 0, 0, 0.7)',
                            'rgba(0, 204, 136, 0.7)',
                            'rgba(255, 136, 0, 0.7)',
                            'rgba(180, 0, 0, 0.5)'
                        ],
                        borderColor: [
                            '#b30000',
                            '#00cc88',
                            '#ff8800',
                            '#b30000'
                        ],
                        borderWidth: 2,
                        hoverOffset: 15
                    }]
                },
                options: {
                    responsive: true, 
                    maintainAspectRatio: false,
                    cutout: '60%',
                    plugins: { 
                        legend: { 
                            position: 'right',
                            labels: { color: '#cc9999', font: { family: 'Inter', size: 12 } }
                        },
                        title: {
                            display: true,
                            text: 'LICENSE DISTRIBUTION',
                            color: 'white',
                            font: { size: 16, family: 'Rajdhani', weight: 'bold' }
                        }
                    },
                    layout: { padding: 20 }
                }
            });
        }
        initChart();

        // --- 4. UTILITIES ---
        const Utils = {
            toast: (msg, type='success') => {
                const area = document.getElementById('toast-area');
                const t = document.createElement('div');
                t.className = `toast ${type === 'error' ? 'error' : ''}`;
                t.innerHTML = `<i class="fas fa-${type==='error'?'exclamation-circle':'check-circle'}" style="color: ${type==='error'?'#ff8888':'#88ff88'};"></i> <span>${msg}</span>`;
                area.appendChild(t);
                setTimeout(() => { 
                    t.style.opacity = '0'; 
                    t.style.transform = 'translateX(-50%) translateY(20px)'; 
                    setTimeout(()=>t.remove(), 300) 
                }, 3000);
            },
            copy: (txt) => {
                if(!txt) return;
                const textArea = document.createElement("textarea");
                textArea.value = txt;
                textArea.style.position = "fixed"; textArea.style.left = "-9999px";
                document.body.appendChild(textArea);
                textArea.focus(); textArea.select();
                
                try {
                    document.execCommand('copy');
                    Utils.toast("COPIED TO CLIPBOARD");
                } catch (err) {
                    Utils.toast("Copy Failed", "error");
                }
                document.body.removeChild(textArea);
            },
            copyCode: function() {
                Utils.copy(document.getElementById('code-display').innerText);
            }
        };

        // --- 5. UI CONTROLS ---
        const UI = {
            currentLang: 'csharp',
            setLang: (lang, el) => {
                UI.currentLang = lang;
                document.querySelectorAll('.lang-tab').forEach(e => e.classList.remove('active'));
                el.classList.add('active');
                UI.renderCode();
            },
            renderCode: () => {
                const host = window.location.protocol + "//" + window.location.hostname + (window.location.port ? ':'+window.location.port: '');
                const apiUrl = `${host}/api/1.2`;
                const { name, id, secret } = CRED;

                let code = "";
                if(UI.currentLang === 'csharp') {
                    code = `<span class="syntax-kw">public static</span> <span class="syntax-cls">api</span> SecureApp = <span class="syntax-kw">new</span> <span class="syntax-cls">api</span>(
    name: <span class="syntax-str">"${name}"</span>,
    ownerId: <span class="syntax-str">"${id}"</span>,
    secret: <span class="syntax-str">"${secret}"</span>,
    version: <span class="syntax-str">"1.0"</span>,
    path: <span class="syntax-str">"${apiUrl}"</span>
);`;
                } else if(UI.currentLang === 'cpp') {
                    code = `<span class="syntax-kw">using namespace</span> Secure;

<span class="syntax-cls">api</span> SecureApp(
    <span class="syntax-str">"${name}"</span>,
    <span class="syntax-str">"${id}"</span>,
    <span class="syntax-str">"${secret}"</span>,
    <span class="syntax-str">"1.0"</span>,
    <span class="syntax-str">"${apiUrl}"</span>
);`;
                } else if(UI.currentLang === 'python') {
                    code = `Secureapp = api(
    name = <span class="syntax-str">"${name}"</span>,
    ownerId = <span class="syntax-str">"${id}"</span>,
    secret = <span class="syntax-str">"${secret}"</span>,
    version = <span class="syntax-str">"1.0"</span>,
    url = <span class="syntax-str">"${apiUrl}"</span>
)`;
                } else if(UI.currentLang === 'php') {
                    code = `&lt;?php
$name = <span class="syntax-str">"${name}"</span>;
$ownerid = <span class="syntax-str">"${id}"</span>;
$secret = <span class="syntax-str">"${secret}"</span>;
$url = <span class="syntax-str">"${apiUrl}"</span>;

$data = array(
    "type" => "init",
    "name" => $name,
    "ownerId" => $ownerid,
    "secret" => $secret
);`;
                } else if(UI.currentLang === 'java') {
                    code = `<span class="syntax-kw">public static</span> <span class="syntax-cls">SecureApp</span> app = <span class="syntax-kw">new</span> <span class="syntax-cls">SecureApp</span>(
    <span class="syntax-str">"${name}"</span>,
    <span class="syntax-str">"${id}"</span>,
    <span class="syntax-str">"${secret}"</span>,
    <span class="syntax-str">"1.0"</span>,
    <span class="syntax-str">"${apiUrl}"</span>
);`;
                } else if(UI.currentLang === 'nodejs') {
                    code = `<span class="syntax-kw">const</span> Secure = <span class="syntax-kw">require</span>(<span class="syntax-str">'Secure'</span>);

<span class="syntax-kw">const</span> app = <span class="syntax-kw">new</span> <span class="syntax-cls">Secure</span>(
    <span class="syntax-str">"${name}"</span>,
    <span class="syntax-str">"${id}"</span>,
    <span class="syntax-str">"${secret}"</span>,
    <span class="syntax-str">"1.0"</span>,
    <span class="syntax-str">"${apiUrl}"</span>
);`;
                } else if(UI.currentLang === 'lua') {
                    code = `<span class="syntax-kw">local</span> Secure = <span class="syntax-kw">require</span>(<span class="syntax-str">"Secure"</span>)

Secure.<span class="syntax-cls">init</span>(
    <span class="syntax-str">"${name}"</span>,
    <span class="syntax-str">"${id}"</span>,
    <span class="syntax-str">"${secret}"</span>,
    <span class="syntax-str">"1.0"</span>,
    <span class="syntax-str">"${apiUrl}"</span>
)`;
                }
                document.getElementById('code-display').innerHTML = code;
            },
            openModal: (id) => {
                const modal = document.getElementById(id);
                if(modal) modal.classList.add('active');
            },
            closeModal: (id) => {
                const modal = document.getElementById(id);
                if(modal) modal.classList.remove('active');
            },
            showUserData: (u) => {
                let extra = {};
                try { extra = JSON.parse(u.extra_data || '{}'); } catch(e) {}

                document.getElementById('ud-username').innerText = u.username;
                document.getElementById('ud-pass').innerText = '******** (Hashed)';
                document.getElementById('ud-license').innerText = u.license || 'N/A';
                document.getElementById('ud-sub').innerText = u.level || 'Standard';
                
                document.getElementById('ud-hwid').innerText = u.hwid || 'Not Locked';
                document.getElementById('ud-cpu').innerText = extra.cpu || 'N/A';
                document.getElementById('ud-gpu').innerText = extra.gpu || 'N/A';
                document.getElementById('ud-ram').innerText = extra.ram || 'N/A';
                document.getElementById('ud-mobo').innerText = 'Hidden';
                document.getElementById('ud-disk').innerText = 'Hidden';
                document.getElementById('ud-mac').innerText = 'Hidden';
                document.getElementById('ud-bios').innerText = 'Hidden';
                
                document.getElementById('ud-os').innerText = extra.os || 'Windows';
                document.getElementById('ud-build').innerText = extra.build || 'N/A';
                document.getElementById('ud-arch').innerText = extra.arch || '64-bit';
                document.getElementById('ud-lang').innerText = extra.lang || 'en-US';
                document.getElementById('ud-timezone').innerText = extra.timezone || 'UTC';

                document.getElementById('ud-ip').innerText = u.ip || 'N/A';
                document.getElementById('ud-country').innerText = extra.country || 'Unknown';
                document.getElementById('ud-isp').innerText = extra.isp || 'Unknown';
                document.getElementById('ud-created').innerText = u.created_at || 'N/A';
                document.getElementById('ud-last').innerText = u.last_login || 'Never';
                document.getElementById('ud-launches').innerText = u.total_launches || '0';
                document.getElementById('ud-expiry').innerText = u.expiry || 'Lifetime';

                UI.openModal('user-data-modal');
            }
        };

        // --- 6. AUTHENTICATION ---
        const CRED = { 
            id: null, 
            master_id: null,
            secret: null, 
            name: null,
            plan: 'premium',
            root_id: null
        };

        let MANAGED_APPS = [];

        const Auth = {
            login: async () => {
                const username = document.getElementById('login-username').value;
                const password = document.getElementById('login-password').value;
                
                if(!username || !password) {
                    return Utils.toast("Please enter username and password", "error");
                }
                
                try {
                    const res = await fetch('/api/owner/login', {
                        method:'POST', headers:{'Content-Type':'application/json'},
                        body: JSON.stringify({username: username, password: password})
                    });
                    const d = await res.json();
                    if(d.success) {
                        const rootOwnerId = d.app.owner_id;
                        Auth.enterAccount(rootOwnerId, d.app.secret, d.app.name, username, password);
                    } else {
                        Utils.toast(d.message || "Invalid Credentials", "error");
                    }
                } catch(e) { 
                    Utils.toast("Connection Failed", "error"); 
                }
            },

            enterAccount: (id, sec, name, username = null, password = null) => {
                CRED.master_id = id; 
                CRED.id = id;
                CRED.secret = sec; 
                CRED.name = name;
                
                if(username && password) {
                    localStorage.setItem('Secure_auth', JSON.stringify({username, password, id, secret: sec, name}));
                } else {
                    localStorage.setItem('Secure_auth', JSON.stringify({id, secret: sec, name}));
                }

                document.getElementById('auth-view').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('auth-view').classList.add('hidden');
                    document.getElementById('app-view').classList.remove('hidden');
                }, 500);

                document.getElementById('app-title').innerText = "MY ACCOUNT";
                document.getElementById('owner-id-disp').innerText = `USER: ${username || name}`;
                
                AppManager.lockSidebar();
                Data.refresh();
            },

            logout: () => {
                localStorage.removeItem('Secure_auth');
                window.location.href = '/';
            }
        };

        // --- 7. DATA MANAGEMENT ---
        const Data = {
            refresh: async () => {
                if(!CRED.id && !CRED.master_id) return;
                try {
                    const res = await fetch('/api/owner/data', {
                        method:'POST', headers:{'Content-Type':'application/json'},
                        body: JSON.stringify({owner_id: CRED.id, secret: CRED.secret})
                    });
                    const d = await res.json();
                    
                    if(d.success) {
                        CRED.root_id = d.root_owner_id;
                        CRED.plan = d.stats.plan;

                        if(CRED.plan === 'free') {
                            window.location.href = '/dashboard';
                            return;
                        }

                        document.getElementById('st-users').innerText = d.stats.users;
                        document.getElementById('st-keys').innerText = d.stats.keys;
                        document.getElementById('st-active').innerText = d.stats.active;
                        document.getElementById('st-banned').innerText = d.stats.banned;
                        
                        Data.updateChart(d.analytics);
                        
                        Data.renderLicenses(d.licenses);
                        Data.renderUsers(d.users);
                        Data.renderVars(d.vars);
                        Data.renderResellers(d.resellers);
                        Data.renderRequests(d.requests);
                        Data.renderBlacklist(d.blacklist);
                        
                        MANAGED_APPS = d.managed_apps;
                        Data.renderAppTable(d.managed_apps);

                        const storedAppId = localStorage.getItem('Secure_selected_app');
                        if (storedAppId && CRED.id === CRED.master_id) {
                            const targetApp = MANAGED_APPS.find(a => a.owner_id === storedAppId);
                            if (targetApp) {
                                AppManager.switchApp(storedAppId, true);
                            }
                        }

                        if(d.announcement) {
                            document.getElementById('global-announcement').classList.remove('hidden');
                            document.getElementById('announcement-text').innerText = d.announcement;
                        }

                        if(d.plan_expiry) {
                            const expiryDate = new Date(d.plan_expiry);
                            const now = new Date();
                            const diffDays = Math.ceil((expiryDate - now) / (1000 * 60 * 60 * 24));
                            if (diffDays <= 1) {
                                document.getElementById('expiry-notice').classList.remove('hidden');
                                document.getElementById('expiry-text').innerText = `Your Premium subscription will expire in less than 24 hours.`;
                            }
                        }

                        const ind = document.getElementById('status-indicator');
                        const isMaint = d.stats.app_status === 'maintenance';
                        ind.style.background = isMaint ? '#ff8800' : '#00cc88';
                        ind.style.boxShadow = isMaint ? '0 0 15px #ff8800' : '0 0 15px #00cc88';
                    }

                    if (d.stats.settings) {
                        document.getElementById('setting-enforce-hwid').checked = d.stats.settings.enforce_hwid;
                        document.getElementById('setting-auto-hash').checked = d.stats.settings.auto_update_hash || false;
                    }
                    if (d.stats.api_key) {
                        document.getElementById('api-key-input').value = d.stats.api_key;
                    } else {
                        document.getElementById('api-key-input').value = "Upgrade to Premium to get an API key.";
                    }
                } catch(e) {
                    console.error(e);
                }
            },
            
            updateChart: (analytics) => {
                if(!trafficChart) return;
                if (analytics && analytics.length > 0) {
                    trafficChart.data.labels = analytics.map(a => a.date);
                    trafficChart.data.datasets[0].data = analytics.map(a => a.success);
                } else {
                    trafficChart.data.datasets[0].data = [0, 0, 0, 0];
                }
                trafficChart.update();
            },
            
            renderLicenses: (list) => {
                if (!list) list = [];
                const appName = CRED.name || 'Unknown';
                const html = list.map(l => `
                    <tr data-key="${l.key}">
                        <td class="font-code selectable" style="color: #ffaaaa; font-weight: 600;">${l.key}</td>
                        <td style="color: #fff;">${l.note || '-'}</td>
                        <td><span class="badge" style="background:rgba(180,0,0,0.2); color: #ffaaaa;">${appName}</span></td>
                        <td>${l.days} Days</td>
                        <td><span class="badge" style="background:rgba(255,255,255,0.1);">${l.level}</span></td>
                        <td>${l.status==1 ? '<span class="badge bg-red"><span class="badge-dot"></span> USED</span>' : '<span class="badge bg-green"><span class="badge-dot"></span> FRESH</span>'}</td>
                        <td class="flex gap-10">
                            <button class="btn btn-ghost" onclick="Utils.copy('${l.key}')"><i class="fas fa-copy"></i></button>
                            <button class="btn btn-danger" style="padding:8px 12px" onclick="Actions.delLic('${l.key}')"><i class="fas fa-trash"></i></button>
                        </td>
                    </tr>
                `).join('');
                document.getElementById('table-licenses').innerHTML = html;
            },

            renderUsers: (list) => {
                if(!list) return;
                const html = list.map(u => `
                    <tr style="${u.banned ? 'opacity:0.6':''}">
                        <td class="font-code selectable"><b>${u.username}</b></td>
                        <td class="font-code" style="font-size:12px"><span class="blur-secret" onclick="Utils.copy('${u.hwid}')">${u.hwid ? u.hwid.substring(0, 20)+'...' : 'N/A'}</span></td>
                        <td class="font-code"><span class="blur-secret" onclick="Utils.copy('${u.ip}')">${u.ip}</span></td>
                        <td>${u.expiry ? u.expiry.split(' ')[0] : 'N/A'}</td>
                        <td>${u.banned ? '<span class="badge bg-red">BANNED</span>' : '<span class="badge bg-green">ACTIVE</span>'}</td>
                        <td><button class="btn btn-primary" style="padding: 6px 14px; font-size: 11px;" onclick='UI.showUserData(${JSON.stringify(u).replace(/'/g, "&#39;")})'><i class="fas fa-database"></i> DATA</button></td>
                        <td class="flex gap-10">
                            <button class="btn btn-ghost" title="Reset HWID" onclick="Actions.reset('${u.username}')"><i class="fas fa-microchip"></i></button>
                            ${u.banned 
                                ? `<button class="btn btn-ghost" style="color: #88ff88;" title="Unban" onclick="Actions.unban('${u.username}')"><i class="fas fa-unlock"></i></button>`
                                : `<button class="btn btn-ghost" style="color: #ff8888;" title="Ban" onclick="Actions.ban('${u.username}')"><i class="fas fa-ban"></i></button>`
                            }
                            <button class="btn btn-danger" style="padding:8px 12px" title="Delete" onclick="Actions.delUser('${u.username}')"><i class="fas fa-trash"></i></button>
                            <button class="btn btn-ghost" style="color: #ffaa00;" title="Reset Password" onclick="Actions.openResetPass('${u.username}')"><i class="fas fa-key"></i></button>
                        </td>
                    </tr>
                `).join('');
                document.getElementById('table-users').innerHTML = html;
                const userdata_table = document.getElementById('table-userdata');
                if (userdata_table) {
                    userdata_table.innerHTML = html;
                }
            },

            renderVars: (list) => {
                const html = list.map(v => `
                    <div class="glass-panel" style="padding:15px 20px; display:flex; justify-content:space-between; align-items:center; border-radius: 40px;">
                        <span style="color: #ffaaaa; font-family: var(--font-code);">${v.var_name}</span>
                        <span class="selectable" style="color: white;">${v.var_value}</span>
                    </div>
                `).join('');
                document.getElementById('vars-list').innerHTML = html || '<p style="color: #cc9999; text-align: center;">No variables set</p>';
            },

            renderResellers: (list) => {
                if(!list) return;
                const html = list.map(r => `
                    <tr>
                        <td style="color: #ffaaaa; font-family: var(--font-code);">${r.username}</td>
                        <td><span class="blur-secret" onclick="Utils.copy('********')">********</span></td>
                        <td><span class="badge bg-green">${r.balance} CR</span></td>
                        <td>${r.created_at ? r.created_at.split(' ')[0] : 'N/A'}</td>
                        <td class="flex gap-10">
                            <button class="btn btn-ghost" title="Add Balance" onclick="Actions.addBalance('${r.username}')"><i class="fas fa-coins"></i></button>
                            <button class="btn btn-danger" style="padding:8px 12px" title="Delete" onclick="Actions.delReseller('${r.username}')"><i class="fas fa-trash"></i></button>
                        </td>
                    </tr>
                `).join('');
                document.getElementById('table-resellers').innerHTML = html;
            },

            renderRequests: (list) => {
                if(!list) return;
                const html = list.map(r => `
                    <tr>
                        <td>${r.reseller_username}</td>
                        <td>${r.amount}</td>
                        <td><span class="badge ${r.status==='pending'?'bg-red':'bg-green'}">${r.status}</span></td>
                        <td>${r.status==='pending' ? `<button class="btn btn-primary" style="padding:6px 16px; font-size:11px;" onclick="Actions.approveReq(${r.id})">APPROVE</button>` : '-'}</td>
                    </tr>
                `).join('');
                document.getElementById('table-requests').innerHTML = html;
            },

            renderBlacklist: (list) => {
                if(!list) return;
                const html = list.map(b => `
                    <tr>
                        <td class="font-code"><span class="blur-secret" onclick="Utils.copy('${b.hwid}')">${b.hwid}</span></td>
                        <td><button class="btn btn-ghost" style="color: #88ff88;" onclick="Actions.unbanHWID('${b.hwid}')"><i class="fas fa-unlock"></i> UNBAN</button></td>
                    </tr>
                `).join('');
                document.getElementById('table-blacklist').innerHTML = html || '<tr><td colspan="2" style="text-align:center; color: #cc9999;">No banned devices</td></tr>';
            },

            renderAppTable: (apps) => {
                const html = apps.map(app => `
                    <tr>
                        <td style="font-weight: 700; color: white;">${app.name}</td>
                        <td class="font-code" style="color: #ffaaaa;">${app.owner_id}</td>
                        <td class="font-code"><span class="blur-secret" onclick="Utils.copy('${app.secret}')">${app.secret}</span></td>
                        <td><span class="badge bg-green">${app.user_count || 0}</span></td>
                        <td><span class="badge bg-green">${app.license_count || 0}</span></td>
                        <td>
                            <div class="flex gap-10">
                                <button class="btn btn-primary" style="padding: 6px 16px; font-size: 12px;" onclick="AppManager.switchApp('${app.owner_id}', false)">
                                    <i class="fas fa-sign-in-alt"></i> MANAGE
                                </button>
                                <button class="btn btn-danger" style="padding: 6px 16px; font-size: 12px;" onclick="AppManager.deleteApp('${app.owner_id}', '${app.name}')"><i class="fas fa-trash"></i></button>
                            </div>
                        </td>
                    </tr>
                `).join('');
                document.getElementById('table-apps').innerHTML = html;
            }
        };

        // --- 8. ACTIONS ---
        const Actions = {
            req: async (body) => {
                body.owner_id = CRED.id;
                body.secret = CRED.secret;
                try {
                    const res = await fetch('/api/owner/action', {
                        method:'POST', headers:{'Content-Type':'application/json'},
                        body: JSON.stringify(body)
                    });
                    const d = await res.json();
                    if (d.success) {
                        return d;
                    } else {
                        Utils.toast(d.message || "Error", "error");
                        return false;
                    }
                } catch(e) { 
                    Utils.toast("Network Error", "error"); 
                }
            },
            generate: async () => {
                const amt = document.getElementById('gen-amt').value;
                const days = document.getElementById('gen-days').value;
                const note = document.getElementById('gen-note').value;

                const res = await Actions.req({
                    action:'generate_keys', 
                    amount:amt, 
                    days:days, 
                    note:note,
                    level:'Standard'
                });

                if (res && res.success && res.licenses) {
                    Utils.toast(`Generated ${amt} key(s)`);
                    const tableBody = document.getElementById('table-licenses');
                    const newRowsHtml = res.licenses.map(l => `
                        <tr data-key="${l.key}">
                            <td class="font-code selectable" style="color: #ffaaaa; font-weight: 600;">${l.key}</td>
                            <td style="color: #fff;">${l.note || '-'}</td>
                            <td><span class="badge" style="background:rgba(180,0,0,0.2); color: #ffaaaa;">${CRED.name}</span></td>
                            <td>${l.days} Days</td>
                            <td><span class="badge" style="background:rgba(255,255,255,0.1);">${l.level}</span></td>
                            <td>${l.status==1 ? '<span class="badge bg-red"><span class="badge-dot"></span> USED</span>' : '<span class="badge bg-green"><span class="badge-dot"></span> FRESH</span>'}</td>
                            <td class="flex gap-10">
                                <button class="btn btn-ghost" onclick="Utils.copy('${l.key}')"><i class="fas fa-copy"></i></button>
                                <button class="btn btn-danger" style="padding:8px 12px" onclick="Actions.delLic('${l.key}')"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    `).join('');
                    tableBody.innerHTML = newRowsHtml + tableBody.innerHTML;
                    
                    const stKeys = document.getElementById('st-keys');
                    stKeys.innerText = parseInt(stKeys.innerText) + res.licenses.length;
                }
            },
            ban: (u) => { const r = prompt("Enter Ban Reason:"); if(r) Actions.req({action:'ban_user', username:u, reason:r}); },
            unban: (u) => Actions.req({action:'unban_user', username:u}),
            banHWID: () => {
                const h = document.getElementById('ban-hwid-input').value;
                if(h) {
                    Actions.req({action:'ban_hwid', hwid:h}).then(res => {
                        if(res && res.success) {
                            Utils.toast("HWID Banned");
                            Data.refresh();
                        }
                    });
                }
            },
            unbanHWID: (h) => {
                if(confirm("Unban this Device?")) Actions.req({action:'unban_hwid', hwid:h}).then(res => {
                    if(res && res.success) {
                        Utils.toast("HWID Unbanned");
                        const rows = document.querySelectorAll('#table-blacklist tr');
                        rows.forEach(r => { if(r.innerHTML.includes(h)) r.remove(); });
                    }
                });
            },
            reset: (u) => Actions.req({action:'reset_hwid', username:u}),
            delUser: (u) => { if(confirm("Delete User? Key will be restored.")) Actions.req({action:'delete_user', username:u}); },
            delLic: (k) => { 
                if(confirm("Delete License?")) {
                    Actions.req({action:'delete_license', key:k}).then(res => {
                        if (res && res.success) {
                            const row = document.querySelector(`tr[data-key="${k}"]`);
                            if (row) row.remove();
                            Utils.toast("License deleted.");
                        }
                    });
                }
            },
            setVar: () => {
                const n = document.getElementById('var-name').value;
                const v = document.getElementById('var-val').value;
                if(n && v) Actions.req({action:'set_var', var_name:n, var_value:v});
            },
            createReseller: async () => {
                const u = document.getElementById('res-user').value;
                const p = document.getElementById('res-pass').value;
                const b = document.getElementById('res-bal').value;
                if(u && p) {
                    const res = await Actions.req({action:'create_reseller', r_username:u, r_password:p, r_balance:b});
                    if (res && res.success && res.assigned_username) {
                        Utils.toast(`Reseller created: ${res.assigned_username}`);
                        document.getElementById('res-user').value = res.assigned_username;
                        window.open('/reseller', '_blank');
                        await Data.refresh();
                    }
                }
            },
            delReseller: (u) => { if(confirm("Delete Reseller?")) Actions.req({action:'delete_reseller', r_username:u}); },
            addBalance: (u) => {
                const amt = prompt("Enter amount to add:");
                if(amt) Actions.req({action:'add_balance', r_username:u, amount:amt});
            },
            approveReq: (id) => {
                Actions.req({action:'approve_credit', req_id:id});
            },
            setWebhook: () => {
                const url = document.getElementById('discord-webhook').value;
                if(url) Actions.req({action:'set_webhook', webhook_url:url});
            },
            createUser: async () => {
                const payload = {
                    action: 'create_user',
                    username: document.getElementById('modal-cu-user').value,
                    password: document.getElementById('modal-cu-pass').value,
                    key: document.getElementById('modal-cu-key').value,
                    days: document.getElementById('modal-cu-days').value,
                    hwid: document.getElementById('modal-cu-hwid').value,
                    level: 'Standard'
                };

                if (!payload.username || !payload.password) {
                    return Utils.toast("Username and Password are required.", "error");
                }
                
                if (!payload.key && !payload.days) {
                    return Utils.toast("Either a License Key or Duration (in days) is required.", "error");
                }

                const res = await Actions.req(payload);
                if (res && res.success) {
                    Utils.toast("User created successfully!");
                    UI.closeModal('create-user-modal');
                    Data.refresh();
                }
            },
            toggleMaintenance: async () => {
                if(!confirm("Toggle Maintenance Mode?\nUsers will see 'Under Maintenance' when trying to login.")) return;
                const res = await Actions.req({action:'toggle_maintenance'});
                if(res && res.success) {
                    const ind = document.getElementById('status-indicator');
                    const isMaint = res.new_status === 'maintenance';
                    ind.style.background = isMaint ? '#ff8800' : '#00cc88';
                    ind.style.boxShadow = isMaint ? '0 0 15px #ff8800' : '0 0 15px #00cc88';
                    Utils.toast(isMaint ? "Maintenance Mode ENABLED" : "Maintenance Mode DISABLED");
                }
            },
            resetLoaderHash: async () => {
                if (!confirm("Are you sure you want to reset the loader hash?")) return;
                const res = await Actions.req({ action: 'reset_loader_hash' });
                if (res && res.success) {
                    Utils.toast(res.message || "Loader hash reset successfully!");
                }
            },
            saveSettings: async () => {
                const settings = {
                    enforce_hwid: document.getElementById('setting-enforce-hwid').checked,
                    auto_update_hash: document.getElementById('setting-auto-hash').checked
                };
                const res = await Actions.req({
                    action: 'update_settings',
                    settings: JSON.stringify(settings)
                });
                if (res && res.success) {
                    Utils.toast("Settings saved successfully!");
                }
            },
            regenerateApiKey: async () => {
                if (!confirm("Regenerate API key? Old key will stop working.")) return;
                const res = await Actions.req({ action: 'regenerate_api_key' });
                if (res && res.success) {
                    document.getElementById('api-key-input').value = res.api_key;
                    Utils.toast("API Key regenerated!");
                }
            },
            openResetPass: (username) => {
                document.getElementById('reset-pass-user').value = username;
                document.getElementById('reset-pass-new').value = '';
                UI.openModal('reset-pass-modal');
            },
            confirmResetPass: async () => {
                const u = document.getElementById('reset-pass-user').value;
                const p = document.getElementById('reset-pass-new').value;
                if(!p) return Utils.toast("Enter new password", "error");
                
                const res = await Actions.req({
                    action: 'reset_user_password',
                    username: u, new_password: p
                });
                if(res && res.success) {
                    Utils.toast("User Password Updated");
                    UI.closeModal('reset-pass-modal');
                }
            }
        };

        // --- 9. APP MANAGER ---
        const AppManager = {
            createApp: async () => {
                const nameInput = document.getElementById('new-app-name-input');
                const newName = nameInput.value;
                if (!newName) return Utils.toast("Please enter a name for the new application.", "error");
                
                const res = await Actions.req({ 
                    action: 'create_sub_app', 
                    new_app_name: newName
                });
                
                if (res && res.success) {
                    nameInput.value = '';
                    Utils.toast("Premium application created successfully!");
                    await Data.refresh();
                }
            },
            deleteApp: async (appId, appName) => {
                if (!confirm(`Are you sure you want to permanently delete the application "${appName}"?\n\nALL associated users, licenses, and data will be lost forever.`)) return;
                const res = await Actions.req({
                    action: 'delete_sub_app',
                    app_to_delete: appId
                });
                if (res && res.success) {
                    Utils.toast(`Application "${appName}" has been deleted.`);
                    if (CRED.id === appId) {
                        AppManager.goBackToAccountView();
                    } else {
                        Data.refresh();
                    }
                }
            },
            switchApp: (selectedOwnerId, silent = false) => {
                const selectedApp = MANAGED_APPS.find(app => app.owner_id === selectedOwnerId);
                if (!selectedApp) return;

                CRED.id = selectedApp.owner_id;
                CRED.secret = selectedApp.secret;
                CRED.name = selectedApp.name;

                localStorage.setItem('Secure_selected_app', selectedOwnerId);

                document.getElementById('app-title').innerText = CRED.name;
                document.getElementById('owner-id-disp').innerText = `APP ID: ${CRED.id}`;
                
                AppManager.unlockSidebar();
                UI.renderCode();
                Data.refresh();
                Tabs.switch('dashboard', document.getElementById('nav-dashboard'));

                if(!silent) Utils.toast(`Switched to ${CRED.name}`);
            },
            lockSidebar: () => {
                const ids = ['nav-integrate', 'nav-dashboard', 'nav-licenses', 'nav-users', 'nav-hwid', 'nav-resellers', 'nav-vars', 'nav-discord', 'nav-userdata', 'nav-settings', 'nav-setup'];
                ids.forEach(id => document.getElementById(id).classList.add('locked'));
                document.getElementById('app-status-panel').classList.remove('active');
                document.getElementById('nav-back-to-apps').classList.add('locked');
            },
            unlockSidebar: () => {
                const ids = ['nav-integrate', 'nav-dashboard', 'nav-licenses', 'nav-users', 'nav-hwid', 'nav-resellers', 'nav-vars', 'nav-discord', 'nav-userdata', 'nav-settings', 'nav-setup'];
                ids.forEach(id => document.getElementById(id).classList.remove('locked'));
                document.getElementById('app-status-panel').classList.add('active');
                document.getElementById('nav-back-to-apps').classList.remove('locked');
            },
            goBackToAccountView: () => {
                const masterAuth = JSON.parse(localStorage.getItem('Secure_auth'));
                if (!masterAuth) {
                    Auth.logout();
                    return;
                }

                CRED.id = masterAuth.id;
                CRED.secret = masterAuth.secret;
                CRED.name = masterAuth.name;

                localStorage.removeItem('Secure_selected_app');

                document.getElementById('app-title').innerText = "MY ACCOUNT";
                document.getElementById('owner-id-disp').innerText = `USER: ${masterAuth.username || masterAuth.name}`;

                AppManager.lockSidebar();
                Data.refresh();
                Tabs.switch('applications', document.querySelector('.nav-item[onclick*="applications"]'));
                Utils.toast("Returned to Account View");
            }
        };

        // --- 10. TABS ---
        const Tabs = {
            switch: (id, el) => {
                document.querySelectorAll('.content-tab').forEach(e => e.classList.add('hidden'));
                document.getElementById('tab-'+id).classList.remove('hidden');
                document.querySelectorAll('.nav-item').forEach(e => e.classList.remove('active'));
                el.classList.add('active');
            }
        };

        // --- 11. DISCORD BOT MANAGER - FINAL VERSION WITH ADMIN ONLY COMMANDS ---
        const DiscordBot = {
            register: async () => {
                const token = document.getElementById('bot-token').value;
                const clientId = document.getElementById('bot-client-id').value;
                const ownerId = document.getElementById('bot-owner-id').value;

                if (!token || !clientId || !ownerId) {
                    return Utils.toast('Please fill all fields', 'error');
                }

                // Save credentials for restart
                localStorage.setItem('bot_token_temp', token);
                localStorage.setItem('bot_client_id_temp', clientId);
                localStorage.setItem('bot_owner_id_temp', ownerId);

                const btn = document.getElementById('connect-bot-btn');
                const originalText = btn.innerHTML;
                btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> STARTING BOT...';
                btn.disabled = true;

                const res = await Actions.req({
                    action: 'register_bot',
                    bot_token: token,
                    bot_client_id: clientId,
                    bot_owner_id: ownerId
                });

                if (res && res.success) {
                    Utils.toast('Bot registered and starting automatically. It will be online in a few seconds.');
                    
                    // Show status card immediately with pending status
                    document.getElementById('bot-register-form').classList.add('hidden');
                    document.getElementById('bot-status-card').classList.remove('hidden');
                    document.getElementById('bot-status-text').innerText = 'STARTING';
                    document.getElementById('bot-status-indicator').style.background = '#ffaa00';
                    
                    // Check status after 5 seconds
                    setTimeout(() => {
                        DiscordBot.getStatus();
                    }, 5000);
                    
                    // Then check every 10 seconds
                    setInterval(() => {
                        DiscordBot.getStatus();
                    }, 10000);
                    
                } else {
                    Utils.toast('Failed to register bot', 'error');
                }
                
                btn.innerHTML = originalText;
                btn.disabled = false;
            },

            getStatus: async () => {
                const res = await Actions.req({ action: 'bot_status' });
                if (res && res.success) {
                    document.getElementById('bot-servers').innerText = res.bot.total_servers;
                    document.getElementById('auto-create-users').checked = res.bot.settings.auto_create_users;
                    document.getElementById('log-channel').value = res.bot.settings.log_channel || '';
                    document.getElementById('admin-role').value = res.bot.settings.admin_role || '';
                    
                    // Update status indicator
                    const statusText = document.getElementById('bot-status-text');
                    const statusIndicator = document.getElementById('bot-status-indicator');
                    
                    if (res.bot.status === 'online') {
                        statusText.innerText = 'ONLINE';
                        statusIndicator.style.background = '#00cc88';
                    } else if (res.bot.status === 'starting') {
                        statusText.innerText = 'STARTING';
                        statusIndicator.style.background = '#ffaa00';
                    } else {
                        statusText.innerText = 'OFFLINE';
                        statusIndicator.style.background = '#ff4444';
                    }

                    if (res.recent_commands && res.recent_commands.length > 0) {
                        document.getElementById('recent-commands').classList.remove('hidden');
                        const html = res.recent_commands.map(c => `
                            <tr>
                                <td><code>${c.command}</code></td>
                                <td>${c.discord_user_id || c.username || '-'}</td>
                                <td>${c.application || '-'}</td>
                                <td>${c.timestamp}</td>
                            </tr>
                        `).join('');
                        document.getElementById('commands-log').innerHTML = html;
                    }
                }
            },

            showSettings: () => {
                document.getElementById('bot-settings-panel').classList.toggle('hidden');
            },

            saveSettings: async () => {
                const settings = {
                    auto_create_users: document.getElementById('auto-create-users').checked,
                    log_channel: document.getElementById('log-channel').value,
                    admin_role: document.getElementById('admin-role').value
                };

                const res = await Actions.req({
                    action: 'bot_update_settings',
                    settings: settings
                });

                if (res && res.success) {
                    Utils.toast('Settings saved');
                    document.getElementById('bot-settings-panel').classList.add('hidden');
                }
            },

            stopBot: async () => {
                if (!confirm('Stop the bot? Commands will stop working.')) return;

                const res = await Actions.req({ action: 'bot_stop' });
                if (res && res.success) {
                    Utils.toast('Bot stopped');
                    document.getElementById('bot-status-card').classList.add('hidden');
                    document.getElementById('bot-register-form').classList.remove('hidden');
                }
            },

            restartBot: async () => {
                if (!confirm('Restart the bot? It will be offline for a few seconds.')) return;

                const btn = document.getElementById('restart-bot-btn');
                const originalText = btn.innerHTML;
                btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> RESTARTING...';
                btn.disabled = true;

                // First stop the bot
                await Actions.req({ action: 'bot_stop' });
                
                // Get the saved credentials
                const token = localStorage.getItem('bot_token_temp');
                const clientId = localStorage.getItem('bot_client_id_temp');
                const ownerId = localStorage.getItem('bot_owner_id_temp');
                
                // Register again to restart
                const res = await Actions.req({
                    action: 'register_bot',
                    bot_token: token,
                    bot_client_id: clientId,
                    bot_owner_id: ownerId
                });

                if (res && res.success) {
                    Utils.toast('Bot restarting...');
                    
                    document.getElementById('bot-status-text').innerText = 'RESTARTING';
                    document.getElementById('bot-status-indicator').style.background = '#ffaa00';
                    
                    setTimeout(() => {
                        DiscordBot.getStatus();
                    }, 5000);
                }

                btn.innerHTML = originalText;
                btn.disabled = false;
            },

            testConnection: () => {
                Utils.toast('Testing connection... If bot is online, test message will appear in your Discord server.');
            }
        };
    </script>
</body>
</html>